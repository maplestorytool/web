(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[478],{160:(e,t,s)=>{Promise.resolve().then(s.bind(s,5515))},5515:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>J});var a=s(2682),i=s(3986),n=s(6661),r=s(7479);let o=(0,r.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),l=(0,r.A)("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),d=(0,r.A)("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),c=(0,r.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),p=(0,r.A)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var m=s(6621);let g={mystery:"border-purple-500 shadow-[0_0_10px_rgba(168,85,247,0.5)]",genesis:"border-yellow-500 shadow-[0_0_10px_rgba(234,179,8,0.5)]",endless:"border-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]",pitch_boss:"border-red-900 shadow-[0_0_10px_rgba(127,29,29,0.5)]",dawn:"border-indigo-500 shadow-[0_0_10px_rgba(99,102,241,0.5)]",boss_accessory:"border-green-600 shadow-[0_0_10px_rgba(22,163,74,0.5)]"},u=[{id:"ring1",label:"戒指",type:"ring"},{id:"ring2",label:"戒指",type:"ring"},{id:"ring3",label:"戒指",type:"ring"},{id:"ring4",label:"戒指",type:"ring"},{id:"ring5",label:"戒指",type:"ring"},{id:"ring6",label:"戒指",type:"ring"},{id:"pocket",label:"口袋",type:"pocket"},{id:"pendant1",label:"吊坠",type:"pendant"},{id:"pendant2",label:"吊坠",type:"pendant"},{id:"weapon",label:"武器",type:"weapon"},{id:"belt",label:"腰带",type:"belt"},{id:"hat",label:"帽子",type:"hat"},{id:"face",label:"眼饰",type:"face"},{id:"eye",label:"前额",type:"eye"},{id:"top",label:"衣服",type:["top","overall"]},{id:"bottom",label:"裤子",type:"bottom"},{id:"shoes",label:"鞋子",type:"shoes"},{id:"earring",label:"耳饰",type:"earring"},{id:"shoulder",label:"肩饰",type:"shoulder"},{id:"glove",label:"手套",type:"glove"},{id:"android",label:"机器人",type:"android"},{id:"emblem",label:"纹章",type:"emblem"},{id:"badge",label:"徽章",type:"badge"},{id:"medal",label:"勋章",type:"medal"},{id:"secondary",label:"辅助",type:"secondary"},{id:"cape",label:"披风",type:"cape"},{id:"heart",label:"心脏",type:"heart"}],x=e=>{let{src:t}=e;return t};function h(e){let{equippedItems:t,onUnequip:s,onDropItem:r,characterScale:m,setCharacterScale:x,activeSets:h=[],presetId:y,onPresetChange:f}=e,[v,k]=(0,i.useState)(!1),j=e=>e&&e.set&&"none"!==e.set&&h.some(t=>t.name===("mystery"===e.set?"神秘之影":"genesis"===e.set?"创世":"endless"===e.set?"无尽辉耀":"pitch_boss"===e.set?"漆黑BOSS":"dawn"===e.set?"黎明首领套装":"boss_accessory"===e.set?"光辉饰品":""))&&g[e.set]||"",w=(e,t,s)=>{if(e.preventDefault(),v)return;let a=e.dataTransfer.getData("application/json");if(!a)return;let i=JSON.parse(a);(Array.isArray(s)?s:[s]).includes(i.type)&&r(i,t)};return(0,a.jsxs)("div",{className:"relative flex h-full flex-col rounded-xl bg-slate-100 p-4 shadow-inner dark:bg-slate-800",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-bold text-slate-700 dark:text-slate-300",children:"装备"}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)("button",{onClick:()=>k(!v),className:"rounded bg-white p-1.5 text-slate-600 shadow hover:text-blue-500 dark:bg-slate-700 dark:text-slate-300",title:v?"解锁装备":"锁定装备",children:v?(0,a.jsx)(o,{size:16}):(0,a.jsx)(l,{size:16})})})]}),(0,a.jsxs)("div",{className:"flex flex-1 gap-2",children:[(0,a.jsx)("div",{className:"flex w-12 flex-col gap-2",children:u.slice(0,7).map(e=>{let i=t[e.id];return(0,a.jsx)(b,{slot:e,item:i,onDrop:w,onUnequip:()=>!v&&s(e.id),highlightClass:i?j(i):""},e.id)})}),(0,a.jsx)("div",{className:"flex w-12 flex-col gap-2 pt-8",children:u.slice(7,11).map(e=>{let i=t[e.id];return(0,a.jsx)(b,{slot:e,item:i,onDrop:w,onUnequip:()=>!v&&s(e.id),highlightClass:i?j(i):""},e.id)})}),(0,a.jsxs)("div",{className:"group relative flex flex-1 items-center justify-center overflow-hidden rounded-lg border border-slate-200 bg-gradient-to-b from-blue-50 to-white dark:border-slate-600 dark:from-slate-700 dark:to-slate-800",children:[(0,a.jsxs)(n.P.div,{style:{scale:m},className:"relative",children:[(0,a.jsx)("div",{className:"h-80 w-48","aria-hidden":!0}),t.weapon&&(0,a.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 rounded-full bg-yellow-400/20 mix-blend-overlay blur-xl"})]}),(0,a.jsxs)("div",{className:"absolute bottom-2 left-1/2 flex -translate-x-1/2 gap-2 rounded-full bg-black/30 p-1 opacity-0 backdrop-blur-sm transition-opacity group-hover:opacity-100",children:[(0,a.jsx)("button",{onClick:()=>x(Math.max(.5,m-.1)),className:"p-1 text-white hover:text-blue-300",children:(0,a.jsx)(d,{size:16})}),(0,a.jsx)("button",{onClick:()=>x(1),className:"p-1 text-white hover:text-blue-300",children:(0,a.jsx)(c,{size:16})}),(0,a.jsx)("button",{onClick:()=>x(Math.min(2,m+.1)),className:"p-1 text-white hover:text-blue-300",children:(0,a.jsx)(p,{size:16})})]})]}),(0,a.jsx)("div",{className:"flex w-12 flex-col gap-2 pt-8",children:u.slice(11,17).map(e=>{let i=t[e.id];return(0,a.jsx)(b,{slot:e,item:i,onDrop:w,onUnequip:()=>!v&&s(e.id),highlightClass:i?j(i):""},e.id)})}),(0,a.jsx)("div",{className:"flex w-12 flex-col gap-2",children:u.slice(17).map(e=>{let i=t[e.id];return(0,a.jsx)(b,{slot:e,item:i,onDrop:w,onUnequip:()=>!v&&s(e.id),highlightClass:i?j(i):""},e.id)})})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between rounded-lg bg-white p-2 shadow-sm dark:bg-slate-700",children:[(0,a.jsx)("div",{className:"mr-2 text-xs font-bold text-slate-500",children:"预设"}),(0,a.jsx)("div",{className:"flex gap-1",children:[1,2,3].map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>null==f?void 0:f(e),className:"h-6 w-6 rounded text-xs font-bold transition-colors ".concat(y===e?"bg-blue-500 text-white":"bg-slate-200 hover:bg-blue-500 hover:text-white dark:bg-slate-600"),children:e},e))}),(0,a.jsxs)("div",{className:"ml-auto flex gap-2",children:[(0,a.jsx)("button",{className:"rounded bg-slate-200 px-3 py-1 text-xs hover:bg-slate-300 dark:bg-slate-600 dark:hover:bg-slate-500",children:"特效"}),(0,a.jsx)("button",{className:"rounded bg-blue-500 px-3 py-1 text-xs text-white hover:bg-blue-600",children:"应用"})]})]})]})}function b(e){let{slot:t,item:s,onDrop:i,onUnequip:n,highlightClass:r=""}=e;return(0,a.jsxs)("div",{onDragOver:e=>e.preventDefault(),onDrop:e=>i(e,t.id,t.type),onClick:()=>s&&n(),className:"relative flex h-12 w-12 cursor-pointer items-center justify-center rounded border border-slate-300 bg-slate-200 transition-colors hover:border-blue-400 dark:border-slate-600 dark:bg-slate-700 ".concat(s?"bg-white dark:bg-slate-600":""," ").concat(r),title:s?s.name:t.label,children:[s?(0,a.jsx)(m.default,{loader:x,unoptimized:!0,src:s.icon,alt:s.name,width:40,height:40,className:"h-10 w-10 object-contain"}):(0,a.jsx)("span",{className:"text-[10px] text-slate-400 select-none",children:t.label}),s&&r&&(0,a.jsx)("div",{className:"pointer-events-none absolute -inset-[2px] z-10 rounded border-2 ".concat(r)})]})}let y={mystery:[{name:"神秘之影",pieces:2,stats:"攻击力+30, 魔法力+30, BOSS伤害+10%",effect:"脚下出现暗影光环"},{name:"神秘之影",pieces:3,stats:"攻击力+30, 魔法力+30, 防御力+400, 无视怪物防御率+10%",effect:""},{name:"神秘之影",pieces:4,stats:"攻击力+35, 魔法力+35, 全属性+50, BOSS伤害+10%",effect:"身体周围环绕幽灵气息"},{name:"神秘之影",pieces:5,stats:"最大血量+2000, 最大魔量+2000, 攻击力+40, 魔法力+40, BOSS伤害+10%",effect:""},{name:"神秘之影",pieces:6,stats:"攻击力+30, 魔法力+30, 最大血量+30%, 最大魔量+30%",effect:"背后出现死神虚影"},{name:"神秘之影",pieces:7,stats:"攻击力+30, 魔法力+30, 无视怪物防御率+10%",effect:""}],endless:[{name:"无尽辉耀",pieces:2,stats:"攻击力+40, 魔法力+40, 最大血量+2500, 最大魔量+2500, 攻击首领怪时的伤害+10%",effect:"微弱的金色光辉"},{name:"无尽辉耀",pieces:3,stats:"攻击力+40, 魔法力+40, 全属性+50, 防御力+600, 攻击首领怪时的伤害+10%",effect:"持续恢复HP/MP"},{name:"无尽辉耀",pieces:4,stats:"攻击力+40, 魔法力+40, 最大血量+15%, 最大魔量+15%, 攻击首领怪时的伤害+10%",effect:"金色光翼展开"}],pitch_boss:[{name:"漆黑BOSS",pieces:2,stats:"全属性+10, 攻击力+10, 魔法力+10, 最大血量+250, 攻击首领怪时的伤害+10%",effect:"眼部散发红光"},{name:"漆黑BOSS",pieces:3,stats:"全属性+10, 攻击力+10, 魔法力+10, 最大血量+250, 防御力+250, 无视怪物防御率+10%",effect:"周围出现黑色闪电"},{name:"漆黑BOSS",pieces:4,stats:"全属性+15, 攻击力+15, 魔法力+15, 最大血量+375, 暴击伤害+5%",effect:"周围出现黑色闪电"},{name:"漆黑BOSS",pieces:5,stats:"全属性+15, 攻击力+15, 魔法力+15, 最大血量+375, 攻击首领怪时的伤害+10%",effect:"地面碎裂特效"},{name:"漆黑BOSS",pieces:6,stats:"全属性+15, 攻击力+15, 魔法力+15, 最大血量+375, 无视怪物防御率+10%",effect:"地面碎裂特效"},{name:"漆黑BOSS",pieces:7,stats:"全属性+15, 攻击力+15, 魔法力+15, 最大血量+375, 暴击伤害+5%",effect:"召唤黑魔法师残影"},{name:"漆黑BOSS",pieces:8,stats:"全属性+15, 攻击力+15, 魔法力+15, 最大血量+375, 攻击首领怪时的伤害+10%",effect:"召唤黑魔法师残影"},{name:"漆黑BOSS",pieces:9,stats:"全属性+15, 攻击力+15, 魔法力+15, 最大血量+375, 暴击伤害+5%",effect:"漆黑领域展开"},{name:"漆黑BOSS",pieces:10,stats:"全属性+20, 攻击力+20, 魔法力+20, 最大血量+500, 攻击首领怪时的伤害+10%",effect:"漆黑领域展开"}],dawn:[{name:"黎明BOSS",pieces:2,stats:"全属性+10, 攻击力+10, 魔法力+10, 最大血量+250, 攻击首领怪时的伤害+10%",effect:"微弱的黎明光晕"},{name:"黎明BOSS",pieces:3,stats:"全属性+10, 攻击力+10, 魔法力+10, 最大血量+250",effect:"光晕增强"},{name:"黎明BOSS",pieces:4,stats:"全属性+10, 攻击力+10, 魔法力+10, 最大血量+250, 防御力+100, 无视怪物防御率+10%",effect:"黎明守护者光环"}],boss_accessory:[{name:"光辉首领套装",pieces:2,stats:"全属性+20, 攻击力+20, 魔法力+20, 最大血量+500, BOSS伤害+10%",effect:"光辉之力环绕"}],gollux_superior:[{name:"最高级贝勒德套装",pieces:2,stats:"最大血量+1500, 最大魔量+1500, 全属性+20",effect:""},{name:"最高级贝勒德套装",pieces:3,stats:"最大血量+13%, 最大魔量+13%, 攻击力+35, 魔法力+35",effect:""},{name:"最高级贝勒德套装",pieces:4,stats:"BOSS伤害+30%, 无视防御+30%",effect:""}]},f="https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?image_size=square&prompt=MapleStory%20icon%20",v=[{id:"m_hat",name:"神秘之影法师帽",type:"hat",set:"mystery",icon:"/icon/Character.Cap.01004809.img.info.icon.png",stats:{int:65,luk:65,matt:10},description:"蕴含神秘力量的帽子",isUnique:void 0,isUntradable:void 0,reqLevel:200,upgrades:0},{id:"m_overall",name:"神秘之影法师长袍",type:"overall",set:"mystery",icon:"/icon/Character.Longcoat.01053064.img.info.icon.png",stats:{int:85,luk:85,matt:15},description:"蕴含神秘力量的长袍",isUnique:void 0,isUntradable:void 0,reqLevel:200,upgrades:0},{id:"m_shoe",name:"神秘之影法师鞋",type:"shoes",set:"mystery",icon:"/icon/Character.Shoes.01073158.img.info.icon.png",stats:{int:40,luk:40,matt:8},description:"蕴含神秘力量的鞋子",isUnique:void 0,isUntradable:void 0,reqLevel:200,upgrades:0},{id:"m_glove",name:"神秘之影法师手套",type:"glove",set:"mystery",icon:"/icon/Character.Glove.01082695.img.info.icon.png",stats:{int:40,luk:40,matt:8},description:"蕴含神秘力量的手套",isUnique:void 0,isUntradable:void 0,reqLevel:200,upgrades:0},{id:"m_cape",name:"神秘之影法师披风",type:"cape",set:"mystery",icon:"/icon/Character.Cape.01102940.img.info.icon.png",stats:{int:35,luk:35,matt:5},description:"蕴含神秘力量的披风",isUnique:void 0,isUntradable:void 0,reqLevel:200,upgrades:0},{id:"m_shoulder",name:"神秘之影法师护肩",type:"shoulder",set:"mystery",icon:"/icon/Character.Accessory.01152196.img.info.icon.png",stats:{int:35,luk:35,matt:20},description:"蕴含神秘力量的护肩",isUnique:void 0,isUntradable:void 0,reqLevel:200,upgrades:0},{id:"m_weapon",name:"神秘之影法杖",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01382265.img.info.icon.png",stats:{int:200,matt:500,bossDmg:30},description:"蕴含神秘力量的法杖",isUnique:void 0,isUntradable:void 0,reqLevel:200,upgrades:0},{id:"1004811",name:"神秘之影飞侠帽",type:"hat",set:"mystery",icon:"/icon/Character.Cap.01004811.img.info.icon.png",stats:{luk:65,dex:65,att:10},description:"蕴含神秘力量的帽子",reqLevel:200,upgrades:0},{id:"1053066",name:"神秘之影飞侠套装",type:"overall",set:"mystery",icon:"/icon/Character.Longcoat.01053066.img.info.icon.png",stats:{luk:85,dex:85,att:15},description:"蕴含神秘力量的全身铠甲",reqLevel:200,upgrades:0},{id:"1073161",name:"神秘之影飞侠鞋",type:"shoes",set:"mystery",icon:"/icon/Character.Shoes.01073158.img.info.icon.png",stats:{luk:40,dex:40,att:8},description:"蕴含神秘力量的鞋子",reqLevel:200,upgrades:0},{id:"1082698",name:"神秘之影飞侠手套",type:"glove",set:"mystery",icon:"/icon/Character.Glove.01082695.img.info.icon.png",stats:{luk:40,dex:40,att:8},description:"蕴含神秘力量的手套",reqLevel:200,upgrades:0},{id:"1102943",name:"神秘之影飞侠披风",type:"cape",set:"mystery",icon:"/icon/Character.Cape.01102940.img.info.icon.png",stats:{luk:35,dex:35,att:5},description:"蕴含神秘力量的披风",reqLevel:200,upgrades:0},{id:"1152199",name:"神秘之影飞侠护肩",type:"shoulder",set:"mystery",icon:"/icon/Character.Accessory.01152196.img.info.icon.png",stats:{luk:35,dex:35,att:20},description:"蕴含神秘力量的护肩",reqLevel:200,upgrades:0},{id:"1332279",name:"神秘之影匕首",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01332279.img.info.icon.png",stats:{luk:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的匕首",reqLevel:200,upgrades:0},{id:"1362140",name:"神秘之影手杖",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01362140.img.info.icon.png",stats:{luk:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的手杖",reqLevel:200,upgrades:0},{id:"1472265",name:"神秘之影拳套",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01472265.img.info.icon.png",stats:{luk:200,dex:200,att:250,bossDmg:30},description:"蕴含神秘力量的拳套",reqLevel:200,upgrades:0},{id:"1242122",name:"神秘之影能量剑",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01242122.img.info.icon.png",stats:{str:200,dex:200,luk:200,att:450,bossDmg:30},description:"蕴含神秘力量的能量剑",reqLevel:200,upgrades:0},{id:"1272017",name:"神秘之影锁链",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01272017.img.info.icon.png",stats:{luk:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的锁链",reqLevel:200,upgrades:0},{id:"1292018",name:"神秘之影草扇",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01292018.img.info.icon.png",stats:{luk:200,int:200,matt:450,bossDmg:30},description:"蕴含神秘力量的扇子",reqLevel:200,upgrades:0},{id:"1242145",name:"神秘之影聚能锁链剑",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01242145.img.info.icon.png",stats:{str:200,dex:200,luk:200,att:450,bossDmg:30},description:"蕴含神秘力量的聚能锁链剑",reqLevel:200,upgrades:0},{id:"1272043",name:"神秘之影锁链",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01272043.img.info.icon.png",stats:{luk:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的锁链",reqLevel:200,upgrades:0},{id:"1292030",name:"神秘之影草扇",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01292030.img.info.icon.png",stats:{luk:200,int:200,matt:450,bossDmg:30},description:"蕴含神秘力量的扇子",reqLevel:200,upgrades:0},{id:"1332291",name:"神秘之影匕首",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01332291.img.info.icon.png",stats:{luk:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的匕首",reqLevel:200,upgrades:0},{id:"1362151",name:"神秘之影手杖",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01362151.img.info.icon.png",stats:{luk:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的手杖",reqLevel:200,upgrades:0},{id:"1472277",name:"神秘之影斗拳",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01472277.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的斗拳",reqLevel:200,upgrades:0},{id:"1404018",name:"神秘之影环刃",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01404018.img.info.icon.png",stats:{luk:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的环刃",reqLevel:200,upgrades:0},{id:"1404030",name:"神秘之影环刃",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01404030.img.info.icon.png",stats:{luk:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的环刃",reqLevel:200,upgrades:0},{id:"1004808",name:"神秘之影战士帽",type:"hat",set:"mystery",icon:"/icon/Character.Cap.01004808.img.info.icon.png",stats:{str:65,dex:65,att:10},description:"蕴含神秘力量的帽子",reqLevel:200,upgrades:0},{id:"1053063",name:"神秘之影战士套装",type:"overall",set:"mystery",icon:"/icon/Character.Longcoat.01053063.img.info.icon.png",stats:{str:85,dex:85,att:15},description:"蕴含神秘力量的全身铠甲",reqLevel:200,upgrades:0},{id:"1073158",name:"神秘之影战士鞋",type:"shoes",set:"mystery",icon:"/icon/Character.Shoes.01073158.img.info.icon.png",stats:{str:40,dex:40,att:8},description:"蕴含神秘力量的鞋子",reqLevel:200,upgrades:0},{id:"1082695",name:"神秘之影战士手套",type:"glove",set:"mystery",icon:"/icon/Character.Glove.01082695.img.info.icon.png",stats:{str:40,dex:40,att:8},description:"蕴含神秘力量的手套",reqLevel:200,upgrades:0},{id:"1102940",name:"神秘之影战士披风",type:"cape",set:"mystery",icon:"/icon/Character.Cape.01102940.img.info.icon.png",stats:{str:35,dex:35,att:5},description:"蕴含神秘力量的披风",reqLevel:200,upgrades:0},{id:"1152196",name:"神秘之影战士护肩",type:"shoulder",set:"mystery",icon:"/icon/Character.Accessory.01152196.img.info.icon.png",stats:{str:35,dex:35,att:20},description:"蕴含神秘力量的护肩",reqLevel:200,upgrades:0},{id:"1232113",name:"神秘之影亡命剑",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01232113.img.info.icon.png",stats:{str:200,hp:5e3,att:450,bossDmg:30},description:"蕴含神秘力量的亡命剑",reqLevel:200,upgrades:0},{id:"1302343",name:"神秘之影单手剑",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01302343.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的单手剑",reqLevel:200,upgrades:0},{id:"1312203",name:"神秘之影斧",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01312203.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的斧",reqLevel:200,upgrades:0},{id:"1322255",name:"神秘之影锤",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01322255.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的锤",reqLevel:200,upgrades:0},{id:"1402259",name:"神秘之影双手剑",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01402259.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的双手剑",reqLevel:200,upgrades:0},{id:"1412181",name:"神秘之影双手战斧",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01412181.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的双手战斧",reqLevel:200,upgrades:0},{id:"1422189",name:"神秘之影双手锤",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01422189.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的双手锤",reqLevel:200,upgrades:0},{id:"1432218",name:"神秘之影长枪",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01432218.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的长枪",reqLevel:200,upgrades:0},{id:"1442274",name:"神秘之影矛",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01442274.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的矛",reqLevel:200,upgrades:0},{id:"1582023",name:"神秘之影机甲枪",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01582023.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的机甲枪",reqLevel:200,upgrades:0},{id:"1232124",name:"神秘之影亡命剑",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01232124.img.info.icon.png",stats:{str:200,hp:5e3,att:450,bossDmg:30},description:"蕴含神秘力量的亡命剑",reqLevel:200,upgrades:0},{id:"1302359",name:"神秘之影军刀",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01302359.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的军刀",reqLevel:200,upgrades:0},{id:"1312215",name:"神秘之影斧",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01312215.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的斧",reqLevel:200,upgrades:0},{id:"1322266",name:"神秘之影锤",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01322266.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的锤",reqLevel:200,upgrades:0},{id:"1402271",name:"神秘之影双手剑",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01402271.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的双手剑",reqLevel:200,upgrades:0},{id:"1412191",name:"神秘之影双手战斧",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01412191.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的双手战斧",reqLevel:200,upgrades:0},{id:"1422199",name:"神秘之影双手锤",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01422199.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的双手锤",reqLevel:200,upgrades:0},{id:"1432229",name:"神秘之影长枪",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01432229.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的长枪",reqLevel:200,upgrades:0},{id:"1442287",name:"神秘之影矛",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01442287.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的矛",reqLevel:200,upgrades:0},{id:"1582046",name:"神秘之影艾拉萨",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01582046.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的艾拉萨",reqLevel:200,upgrades:0},{id:"1213030",name:"神秘之影调谐器",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01213030.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的调谐器",reqLevel:200,upgrades:0},{id:"1213018",name:"神秘之影调谐器",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01213018.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的调谐器",reqLevel:200,upgrades:0},{id:"1542117",name:"神秘之影武士刀",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01542117.img.info.icon.png",stats:{str:200,dex:200,att:450,bossDmg:30},description:"蕴含神秘力量的武士刀",reqLevel:200,upgrades:0},{id:"1004810",name:"神秘之影弓箭手帽",type:"hat",set:"mystery",icon:"/icon/Character.Cap.01004810.img.info.icon.png",stats:{dex:65,str:65,att:10},description:"蕴含神秘力量的帽子",reqLevel:200,upgrades:0},{id:"1053065",name:"神秘之影弓箭手套装",type:"overall",set:"mystery",icon:"/icon/Character.Longcoat.01053065.img.info.icon.png",stats:{dex:85,str:85,att:15},description:"蕴含神秘力量的全身铠甲",reqLevel:200,upgrades:0},{id:"1073160",name:"神秘之影弓箭手鞋",type:"shoes",set:"mystery",icon:"/icon/Character.Shoes.01073158.img.info.icon.png",stats:{dex:40,str:40,att:8},description:"蕴含神秘力量的鞋子",reqLevel:200,upgrades:0},{id:"1082697",name:"神秘之影弓箭手手套",type:"glove",set:"mystery",icon:"/icon/Character.Glove.01082695.img.info.icon.png",stats:{dex:40,str:40,att:8},description:"蕴含神秘力量的手套",reqLevel:200,upgrades:0},{id:"1102942",name:"神秘之影弓箭手披风",type:"cape",set:"mystery",icon:"/icon/Character.Cape.01102940.img.info.icon.png",stats:{dex:35,str:35,att:5},description:"蕴含神秘力量的披风",reqLevel:200,upgrades:0},{id:"1152198",name:"神秘之影弓箭手护肩",type:"shoulder",set:"mystery",icon:"/icon/Character.Accessory.01152196.img.info.icon.png",stats:{dex:35,str:35,att:20},description:"蕴含神秘力量的护肩",reqLevel:200,upgrades:0},{id:"1452257",name:"神秘之影弓",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01452257.img.info.icon.png",stats:{dex:200,str:200,att:450,bossDmg:30},description:"蕴含神秘力量的弓",reqLevel:200,upgrades:0},{id:"1462243",name:"神秘之影弩",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01462243.img.info.icon.png",stats:{dex:200,str:200,att:450,bossDmg:30},description:"蕴含神秘力量的弩",reqLevel:200,upgrades:0},{id:"1522143",name:"神秘之影双弩枪",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01522143.img.info.icon.png",stats:{dex:200,str:200,att:450,bossDmg:30},description:"蕴含神秘力量的双弩枪",reqLevel:200,upgrades:0},{id:"1592020",name:"神秘之影远古弓",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01592020.img.info.icon.png",stats:{dex:200,str:200,att:450,bossDmg:30},description:"蕴含神秘力量的远古弓",reqLevel:200,upgrades:0},{id:"1214018",name:"神秘之影龙息臂箭",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01214018.img.info.icon.png",stats:{dex:200,str:200,att:450,bossDmg:30},description:"蕴含神秘力量的龙息臂箭",reqLevel:200,upgrades:0},{id:"1214030",name:"神秘之影龙息臂箭",type:"weapon",set:"mystery",icon:"/icon/Character.Weapon.01214030.img.info.icon.png",stats:{dex:200,str:200,att:450,bossDmg:30},description:"蕴含神秘力量的龙息臂箭",reqLevel:200,upgrades:0},{id:"g_weapon",name:"创世武器",type:"weapon",set:"genesis",icon:f+"Genesis%20Staff",stats:{int:300,matt:700,bossDmg:40},description:"封印着黑魔法师力量的法杖",isUnique:void 0,isUntradable:void 0,reqLevel:200,upgrades:0},{id:"g_badge",name:"创世徽章",type:"badge",set:"genesis",icon:"/icon/Character.Accessory.01182285.img.info.icon.png",stats:{int:20,matt:10},description:"创世力量的证明",isUnique:void 0,isUntradable:void 0,reqLevel:200,upgrades:0},{id:"e_hat",name:"无尽辉耀法师帽",type:"hat",set:"endless",icon:f+"Eternal%20Mage%20Hat",stats:{int:80,luk:80,matt:15},description:"永恒不灭的辉耀帽子",isUnique:void 0,isUntradable:void 0,reqLevel:0,upgrades:0},{id:"e_top",name:"无尽辉耀法师上衣",type:"top",set:"endless",icon:f+"Eternal%20Mage%20Top",stats:{int:90,luk:90,matt:20},description:"永恒不灭的辉耀上衣",isUnique:void 0,isUntradable:void 0,reqLevel:0,upgrades:0},{id:"e_bottom",name:"无尽辉耀法师裤",type:"bottom",set:"endless",icon:f+"Eternal%20Mage%20Bottom",stats:{int:90,luk:90,matt:20},description:"永恒不灭的辉耀裤子",isUnique:void 0,isUntradable:void 0,reqLevel:0,upgrades:0},{id:"e_helm",name:"无尽辉耀头盔",type:"hat",set:"endless",icon:f+"Eternal%20Helmet",stats:{int:85,matt:18},description:"无尽系列头盔",isUnique:void 0,isUntradable:void 0,reqLevel:0,upgrades:0},{id:"1012632",name:"失控机械标记",type:"face",set:"pitch_boss",icon:"/icon/Character.Accessory.01012632.img.info.icon.png",stats:{str:10,dex:10,int:10,luk:10,att:10,matt:10,hp:125,mp:125},description:"失控的机械标记",reqLevel:200,upgrades:0},{id:"1022278",name:"蕴藏魔力的眼罩",type:"eye",set:"pitch_boss",icon:"/icon/Character.Accessory.01022278.img.info.icon.png",stats:{str:15,dex:15,int:15,luk:15,att:3,matt:3,hp:300,mp:300,def:150},description:"蕴藏魔力的眼罩",reqLevel:200,upgrades:0},{id:"1113306",name:"巨大恐惧",type:"ring",set:"pitch_boss",icon:"/icon/Character.Ring.01113306.img.info.icon.png",stats:{str:5,dex:5,int:5,luk:5,att:2,matt:2,hp:250,mp:250},description:"巨大恐惧",reqLevel:200,upgrades:0},{id:"1122430",name:"痛苦根源",type:"pendant",set:"pitch_boss",icon:"/icon/Character.Accessory.01122430.img.info.icon.png",stats:{str:10,dex:10,int:10,luk:10,att:3,matt:3,hp:200,mp:200},description:"痛苦根源",reqLevel:200,upgrades:0},{id:"1132308",name:"梦幻腰带",type:"belt",set:"pitch_boss",icon:"/icon/Character.Accessory.01132308.img.info.icon.png",stats:{str:50,dex:50,int:50,luk:50,att:6,matt:6,hp:150,mp:150,def:150},description:"梦幻腰带",reqLevel:200,upgrades:0},{id:"1032316",name:"船长姿态耳环",type:"earring",set:"pitch_boss",icon:"/icon/Character.Accessory.01032316.img.info.icon.png",stats:{str:7,dex:7,int:7,luk:7,att:5,matt:5,hp:250,mp:250,def:100},description:"船长姿态耳环",reqLevel:200,upgrades:0},{id:"1182285",name:"创世徽章",type:"badge",set:"pitch_boss",icon:"/icon/Character.Accessory.01182285.img.info.icon.png",stats:{str:10,dex:10,int:10,luk:10,att:5,matt:5},description:"创世徽章",reqLevel:200,upgrades:0},{id:"1162080",name:"被诅咒的魔道书-红",type:"pocket",set:"pitch_boss",icon:"/icon/Character.Accessory.01162080.img.info.icon.png",stats:{str:20,dex:20,int:20,luk:20,att:10,matt:10,hp:100,mp:100},description:"被诅咒的魔道书-红",reqLevel:200,upgrades:0},{id:"1162081",name:"被诅咒的魔道书-蓝",type:"pocket",set:"pitch_boss",icon:"/icon/Character.Accessory.01162081.img.info.icon.png",stats:{str:20,dex:20,int:20,luk:20,att:10,matt:10,hp:100,mp:100},description:"被诅咒的魔道书-蓝",reqLevel:200,upgrades:0},{id:"1162082",name:"被诅咒的魔道书-绿",type:"pocket",set:"pitch_boss",icon:"/icon/Character.Accessory.01162082.img.info.icon.png",stats:{str:20,dex:20,int:20,luk:20,att:10,matt:10,hp:100,mp:100},description:"被诅咒的魔道书-绿",reqLevel:200,upgrades:0},{id:"1162083",name:"被诅咒的魔道书-黄",type:"pocket",set:"pitch_boss",icon:"/icon/Character.Accessory.01162083.img.info.icon.png",stats:{str:20,dex:20,int:20,luk:20,att:10,matt:10,hp:100,mp:100},description:"被诅咒的魔道书-黄",reqLevel:200,upgrades:0},{id:"1672076",name:"黑色心脏",type:"heart",set:"pitch_boss",icon:"/icon/Character.Android.01672076.img.info.icon.png",stats:{str:50,dex:50,int:50,luk:50,att:30,matt:30,hp:500},description:"黑色心脏",reqLevel:200,upgrades:0},{id:"1672082",name:"黑色心脏",type:"heart",set:"pitch_boss",icon:"/icon/Character.Android.01672076.img.info.icon.png",stats:{str:50,dex:50,int:50,luk:50,att:30,matt:30,hp:500},description:"黑色心脏",reqLevel:200,upgrades:0},{id:"1672095",name:"完全掌控",type:"heart",set:"pitch_boss",icon:"/icon/Character.Android.01672095.img.info.icon.png",stats:{str:30,dex:30,int:30,luk:30,att:15,matt:15,hp:300},description:"完全掌控",reqLevel:200,upgrades:0},{id:"1202193",name:"密特拉之愤怒",type:"emblem",set:"pitch_boss",icon:f+"Mitra%20Rage",stats:{str:40,dex:40,int:40,luk:40,att:5,matt:5},description:"密特拉之愤怒",reqLevel:200,upgrades:0},{id:"1012757",name:"暮光祝福标记",type:"face",set:"dawn",icon:"/icon/Character.Accessory.01012757.img.info.icon.png",stats:{str:5,dex:5,int:5,luk:5,att:5,matt:5,hp:200,mp:200},description:"暮光中的印记",reqLevel:140,upgrades:3,isUnique:void 0,isUntradable:void 0},{id:"1122443",name:"拂晓吊坠",type:"pendant",set:"dawn",icon:"/icon/Character.Accessory.01122443.img.info.icon.png",stats:{str:5,dex:5,int:5,luk:5,att:5,matt:5,hp:200,mp:200},description:"黎明时分的坠饰",reqLevel:140,upgrades:3,isUnique:void 0,isUntradable:void 0},{id:"1032330",name:"艾斯泰拉耳环",type:"earring",set:"dawn",icon:"/icon/Character.Accessory.01032330.img.info.icon.png",stats:{str:5,dex:5,int:5,luk:5,att:5,matt:5,hp:200,mp:200},description:"埃斯特拉的耳环",reqLevel:140,upgrades:3,isUnique:void 0,isUntradable:void 0},{id:"1113313",name:"黎明之守护天使戒指",type:"ring",set:"dawn",icon:"/icon/Character.Ring.01113313.img.info.icon.png",stats:{str:5,dex:5,int:5,luk:5,att:2,matt:2,hp:200,mp:200},description:"固有装备物品 装备后无法交换",reqLevel:160,isUnique:!0,isUntradable:!0,upgrades:3},{id:"1113341",name:"根源之呢喃",type:"ring",set:"boss_accessory",icon:f+"Whisper%20of%20Source",stats:{str:10,dex:10,int:10,luk:10,att:5,matt:5,hp:200,mp:200},description:"根源之呢喃",reqLevel:250,upgrades:0},{id:"1122447",name:"亡命誓约",type:"pendant",set:"boss_accessory",icon:f+"Desperate%20Pledge",stats:{str:15,dex:15,int:15,luk:15,att:5,matt:5,hp:300,mp:300},description:"亡命誓约",reqLevel:250,upgrades:0},{id:"1032223",name:"最高级贝勒德耳环",type:"earring",set:"gollux_superior",icon:"/icon/Character.Accessory.01032223.img.info.icon.png",stats:{str:15,dex:15,int:15,luk:15,att:10,matt:10,hp:150,mp:150},description:"最高级贝勒德耳环",reqLevel:150,upgrades:0},{id:"1122267",name:"最高级贝勒德刻印吊坠",type:"pendant",set:"gollux_superior",icon:"/icon/Character.Accessory.01122267.img.info.icon.png",stats:{str:28,dex:28,int:28,luk:28,att:5,matt:5,hp:420,mp:420,def:100},description:"最高级贝勒德刻印吊坠",reqLevel:150,upgrades:0},{id:"1132246",name:"最高级贝勒德刻印腰带",type:"belt",set:"gollux_superior",icon:"/icon/Character.Accessory.01132246.img.info.icon.png",stats:{str:60,dex:60,int:60,luk:60,att:35,matt:35,hp:200,mp:200,def:100},description:"最高级贝勒德刻印腰带",reqLevel:150,upgrades:0},{id:"1113075",name:"最高级贝勒德戒指",type:"ring",set:"gollux_superior",icon:"/icon/Character.Ring.01113075.img.info.icon.png",stats:{str:10,dex:10,int:10,luk:10,att:8,matt:8,hp:250,mp:250},description:"最高级贝勒德戒指",reqLevel:150,upgrades:0},{id:"1005983",name:"无尽辉耀飞侠头巾",type:"hat",set:"endless",icon:"/icon/Character.Cap.01005983.img.info.icon.png",stats:{luk:80,dex:80,att:10,ignoreDef:10},description:"无尽辉耀飞侠头巾",reqLevel:250,upgrades:0},{id:"1042436",name:"无尽辉耀飞侠衬衫",type:"top",set:"endless",icon:"/icon/Character.Coat.01042436.img.info.icon.png",stats:{luk:80,dex:80,att:10,ignoreDef:5},description:"无尽辉耀飞侠衬衫",reqLevel:250,upgrades:0},{id:"1062288",name:"无尽辉耀飞侠裤",type:"bottom",set:"endless",icon:"/icon/Character.Pants.01062288.img.info.icon.png",stats:{luk:80,dex:80,att:10,ignoreDef:5},description:"无尽辉耀飞侠裤",reqLevel:250,upgrades:0},{id:"1152215",name:"无尽辉耀飞侠护肩",type:"shoulder",set:"endless",icon:f+"Eternal%20Thief%20Shoulder",stats:{luk:35,dex:35,att:20},description:"无尽辉耀飞侠护肩",reqLevel:250,upgrades:0},{id:"1005980",name:"无尽辉耀骑士头盔",type:"hat",set:"endless",icon:"/icon/Character.Cap.01005980.img.info.icon.png",stats:{str:80,dex:80,att:10,ignoreDef:10},description:"无尽辉耀骑士头盔",reqLevel:250,upgrades:0},{id:"1042433",name:"无尽辉耀骑士盔甲",type:"top",set:"endless",icon:"/icon/Character.Coat.01042433.img.info.icon.png",stats:{str:80,dex:80,att:10,ignoreDef:5},description:"无尽辉耀骑士盔甲",reqLevel:250,upgrades:0},{id:"1062285",name:"无尽辉耀骑士裤",type:"bottom",set:"endless",icon:"/icon/Character.Pants.01062285.img.info.icon.png",stats:{str:80,dex:80,att:10,ignoreDef:5},description:"无尽辉耀骑士裤",reqLevel:250,upgrades:0},{id:"1152212",name:"无尽辉耀骑士护肩",type:"shoulder",set:"endless",icon:"/icon/Character.Accessory.01152212.img.info.icon.png",stats:{str:35,dex:35,att:20},description:"无尽辉耀骑士护肩",reqLevel:250,upgrades:0}].map(e=>e.reqLevel>=200?{...e,upgrades:30}:e);var k=s(646);let j=(0,r.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var w=s(8079);let N=[{id:"mystery",label:"神秘之影",color:"bg-purple-600"},{id:"genesis",label:"创世",color:"bg-yellow-600"},{id:"endless",label:"无尽辉耀",color:"bg-blue-600"},{id:"pitch_boss",label:"漆黑BOSS",color:"bg-red-900"},{id:"dawn",label:"黎明BOSS",color:"bg-indigo-500"},{id:"boss_accessory",label:"光辉饰品",color:"bg-green-600"},{id:"gollux_superior",label:"最高级贝勒德",color:"bg-emerald-600"}],q=[{id:"all",label:"全部",types:[]},{id:"weapon",label:"武器",types:["weapon","secondary"]},{id:"armor",label:"防具",types:["hat","top","bottom","overall","shoes","glove","cape","shoulder"]},{id:"accessory",label:"饰品",types:["ring","pendant","face","eye","earring","belt","pocket","badge","medal","emblem","heart","android"]}],C=e=>{let{src:t}=e;return t};function L(e){var t,s,r,o,l;let{onEquip:d}=e,[c,p]=(0,i.useState)("mystery"),[g,u]=(0,i.useState)("all"),[x,h]=(0,i.useState)(""),[b,f]=(0,i.useState)(null),L=(0,i.useRef)(null),[S,_]=(0,i.useState)(null),[D,A]=(0,i.useState)(null);(0,i.useEffect)(()=>{A(document.body)},[]);let W=v.filter(e=>{if(e.set!==c)return!1;if("all"!==g){var t;if(!((null===(t=q.find(e=>e.id===g))||void 0===t?void 0:t.types)||[]).includes(e.type))return!1}return!x||!!e.name.includes(x)}),O=(e,t)=>{e.dataTransfer.setData("application/json",JSON.stringify(t))},E=(null!==(r=null==b?void 0:b.item.reqLevel)&&void 0!==r?r:0)>=200?30:25;return(0,i.useLayoutEffect)(()=>{if(!b){_(null);return}(()=>{let e=b.x,t=b.y,s=L.current;if(!s){_({left:e,top:t});return}let a=s.getBoundingClientRect();_({left:Math.min(Math.max(e,8),window.innerWidth-a.width-8),top:Math.min(Math.max(t,8),window.innerHeight-a.height-8)})})()},[b]),(0,a.jsxs)("div",{className:"flex h-full flex-col overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[(0,a.jsx)("div",{className:"scroll-thin flex overflow-x-auto border-b border-slate-200 dark:border-slate-700",children:N.map(e=>(0,a.jsxs)("button",{onClick:()=>p(e.id),className:"relative px-4 py-3 text-sm font-bold whitespace-nowrap transition-colors ".concat(c===e.id?"text-slate-900 dark:text-white":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"),children:[e.label,c===e.id&&(0,a.jsx)(n.P.div,{layoutId:"activeTab",className:"absolute right-0 bottom-0 left-0 h-0.5 ".concat(e.color)})]},e.id))}),(0,a.jsxs)("div",{className:"flex items-center gap-2 border-b border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800/50",children:[(0,a.jsx)("div",{className:"flex gap-1",children:q.map(e=>(0,a.jsx)("button",{onClick:()=>u(e.id),className:"rounded px-2 py-1 text-xs transition-colors ".concat(g===e.id?"bg-blue-100 font-bold text-blue-700 dark:bg-blue-900/50 dark:text-blue-300":"text-slate-600 hover:bg-slate-200 dark:text-slate-400 dark:hover:bg-slate-700"),children:e.label},e.id))}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(k.A,{className:"absolute top-1/2 left-2 h-3 w-3 -translate-y-1/2 text-slate-400"}),(0,a.jsx)("input",{type:"text",placeholder:"搜索...",value:x,onChange:e=>h(e.target.value),className:"w-32 rounded border border-slate-200 bg-white py-1 pr-2 pl-7 text-xs focus:border-blue-400 focus:outline-none dark:border-slate-600 dark:bg-slate-700"})]})]}),(0,a.jsxs)("div",{className:"scroll-thin flex-1 overflow-y-auto bg-slate-100 p-3 dark:bg-slate-900/50",children:[(0,a.jsxs)("div",{className:"relative grid grid-cols-4 gap-2 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8",children:[W.map(e=>(0,a.jsx)("div",{draggable:!0,onDragStart:t=>O(t,e),onClick:()=>d(e),onMouseEnter:t=>{f({item:e,anchorEl:t.currentTarget,x:t.clientX,y:t.clientY})},onMouseMove:t=>{f({item:e,anchorEl:t.currentTarget,x:t.clientX,y:t.clientY})},onMouseLeave:()=>f(null),className:"group relative flex aspect-square cursor-pointer items-center justify-center rounded border border-slate-200 bg-white transition-all hover:border-blue-400 hover:shadow-md dark:border-slate-600 dark:bg-slate-800 dark:hover:border-blue-500",children:(0,a.jsx)("div",{className:"relative h-3/4 w-3/4",children:(0,a.jsx)(m.default,{loader:C,unoptimized:!0,src:e.icon,alt:e.name,fill:!0,sizes:"96px",className:"object-contain"})})},e.id)),D&&b&&(0,w.createPortal)((0,a.jsxs)("div",{ref:L,className:"scroll-thin pointer-events-none fixed z-[100] w-[300px] overflow-hidden rounded-lg border border-slate-600 bg-[#1e1e1e]/95 font-sans text-[11px] text-white shadow-2xl",style:{left:null!==(o=null==S?void 0:S.left)&&void 0!==o?o:0,top:null!==(l=null==S?void 0:S.top)&&void 0!==l?l:0,transform:"none",maxHeight:"85vh",overflowY:"auto",opacity:S?1:0},children:[(e=>{let t=Math.ceil(e/15);return(0,a.jsx)("div",{className:"flex flex-col items-center gap-1 pt-2 pb-1",children:Array.from({length:t}).map((t,s)=>{let i=Math.max(0,Math.min(15,e-15*s)),n=Math.ceil(i/5);return(0,a.jsx)("div",{className:"flex justify-center gap-2",children:Array.from({length:n}).map((e,t)=>{let s=Math.max(0,Math.min(5,i-5*t));return(0,a.jsx)("div",{className:"flex gap-[2px]",children:Array.from({length:s}).map((e,t)=>(0,a.jsx)("div",{className:"h-3 w-3 text-white opacity-20",children:"★"},t))},t)})},s)})})})(E),(0,a.jsxs)("div",{className:"px-2 pb-2 text-center",children:[(0,a.jsx)("div",{className:"mb-1 text-base font-bold text-white shadow-black drop-shadow-md",children:b.item.name}),b.item.isUnique&&(0,a.jsx)("div",{className:"mb-0.5 text-orange-400",children:"固有装备物品"}),b.item.isUntradable&&(0,a.jsx)("div",{className:"text-orange-400",children:"装备后无法交换"})]}),(0,a.jsxs)("div",{className:"flex border-t border-dashed border-slate-600 p-3",children:[(0,a.jsx)("div",{className:"relative mr-3 flex h-16 w-16 items-center justify-center rounded border border-slate-500 bg-gradient-to-br from-slate-700 to-slate-800 shadow-inner",children:(0,a.jsx)(m.default,{loader:C,unoptimized:!0,src:b.item.icon,alt:b.item.name,width:48,height:48,className:"h-12 w-12 object-contain"})}),(0,a.jsxs)("div",{className:"relative flex-1 space-y-0.5",children:[(0,a.jsxs)("div",{className:"absolute -top-1 right-0 flex flex-col items-end text-white",children:[(0,a.jsx)("span",{className:"origin-right scale-90 text-[10px] text-slate-400",children:"攻击力增加量"}),(0,a.jsx)("span",{className:"text-xl leading-none font-bold",children:"0"})]}),(0,a.jsxs)("div",{className:"mb-1 font-bold text-yellow-400",children:["REQ LV: ",b.item.reqLevel||0]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-0.5 font-mono text-[10px] text-slate-400",children:[(0,a.jsx)("div",{children:"REQ STR: 000"}),(0,a.jsx)("div",{children:"REQ LUK: 000"}),(0,a.jsx)("div",{children:"REQ DEX: 000"}),(0,a.jsx)("div",{children:"REQ INT: 000"})]})]})]}),(0,a.jsx)("div",{className:"flex gap-[1px] px-3 pb-3",children:["新手","战士","魔法师","弓箭手","飞侠","海盗"].map(e=>(0,a.jsx)("div",{className:"flex-1 rounded-sm border border-[#444] bg-[#333] py-0.5 text-center text-[9px] text-[#999]",children:e},e))}),(0,a.jsxs)("div",{className:"space-y-1 border-t border-dashed border-slate-600 p-3",children:[(0,a.jsxs)("div",{className:"mb-2 flex gap-2",children:[(0,a.jsx)("span",{className:"text-slate-300",children:"装备分类 :"}),(0,a.jsx)("span",{className:"text-white",children:"ring"===b.item.type?"戒指":"pendant"===b.item.type?"坠子":"face"===b.item.type?"脸饰":"earring"===b.item.type?"耳环":"装备"})]}),[{key:"str",label:"力量"},{key:"dex",label:"敏捷"},{key:"int",label:"智力"},{key:"luk",label:"运气"},{key:"hp",label:"最大血量"},{key:"mp",label:"最大魔量"},{key:"att",label:"攻击力"},{key:"matt",label:"魔法力"},{key:"def",label:"防御力"},{key:"ignoreDef",label:"无视防御率",suffix:"%"},{key:"bossDmg",label:"BOSS伤害",suffix:"%"}].map(e=>{let{key:t,label:s,suffix:i}=e,n=b.item.stats[t];return n?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"w-16 text-right text-slate-300",children:[s," :"]}),(0,a.jsxs)("span",{className:"text-white",children:["+",n,i||""]})]},t):null})]}),"none"!==b.item.set&&y[b.item.set]&&(0,a.jsxs)("div",{className:"border-t border-dashed border-slate-600 bg-slate-800/30 p-3",children:[(0,a.jsx)("div",{className:"mb-2 text-sm font-bold text-green-400",children:y[b.item.set][0].name}),(0,a.jsx)("div",{className:"space-y-3",children:y[b.item.set].map((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-0.5 font-bold text-green-400",children:[e.pieces,"套装效果"]}),(0,a.jsx)("div",{className:"pl-2 text-[10px] leading-tight whitespace-pre-line text-slate-300 opacity-90",children:e.stats.split(/,\s*|，\s*/).map(e=>e.trim()).filter(Boolean).join("\n")})]},t))})]}),(0,a.jsx)("div",{className:"border-t border-dashed border-slate-600 p-3",children:(0,a.jsx)("div",{className:"text-orange-400",children:"使用白金宿命剪刀，可以使物品交易1次。"})})]}),D)]}),0===W.length&&(0,a.jsxs)("div",{className:"flex h-full flex-col items-center justify-center text-slate-400",children:[(0,a.jsx)(j,{className:"mb-2 h-8 w-8 opacity-50"}),(0,a.jsx)("p",{className:"text-sm",children:"没有找到相关装备"})]})]}),(0,a.jsxs)("div",{className:"border-t border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800",children:[(0,a.jsx)("div",{className:"mb-2 text-xs font-bold text-slate-500 uppercase",children:"套装属性预览"}),(0,a.jsxs)("div",{className:"space-y-1 text-xs",children:[null===(t=y[c])||void 0===t?void 0:t.slice(0,2).map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("span",{className:"rounded bg-slate-200 px-1 text-slate-600 dark:bg-slate-700 dark:text-slate-300",children:[e.pieces,"件"]}),(0,a.jsx)("span",{className:"text-slate-700 dark:text-slate-300",children:e.stats})]},t)),(null===(s=y[c])||void 0===s?void 0:s.length)>2&&(0,a.jsx)("div",{className:"text-[10px] text-slate-400",children:"...更多套装效果"})]})]})]})}let S=(0,r.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var _=s(8111),D=s(5545);let A=(0,r.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);function W(e){let{stats:t,activeSets:s,genesisWeapon:i}=e;return(0,a.jsxs)("div",{className:"scroll-thin h-full overflow-y-auto rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-800",children:[(0,a.jsxs)("h3",{className:"mb-4 flex items-center gap-2 font-bold text-slate-900 dark:text-white",children:[(0,a.jsx)(S,{className:"h-5 w-5 text-blue-500"}),"属性总览"]}),i&&(0,a.jsx)("div",{className:"mb-6 rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-900/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:["创世武器（",i.stageLabel,"）"]}),(0,a.jsx)("button",{type:"button",onClick:i.onOpenEditor,className:"rounded bg-yellow-500 px-2 py-1 text-xs text-white hover:bg-yellow-600",children:"编辑属性"})]})}),(0,a.jsxs)("div",{className:"mb-6 grid grid-cols-2 gap-3",children:[(0,a.jsx)(O,{label:"攻击力",value:t.att,icon:(0,a.jsx)(_.A,{size:14}),color:"text-red-500"}),(0,a.jsx)(O,{label:"魔法力",value:t.matt,icon:(0,a.jsx)(D.A,{size:14}),color:"text-blue-500"}),(0,a.jsx)(O,{label:"防御力",value:t.def,icon:(0,a.jsx)(A,{size:14}),color:"text-green-500"}),(0,a.jsx)(O,{label:"BOSS伤害",value:"".concat(t.bossDmg,"%"),color:"text-purple-500"}),(0,a.jsx)(O,{label:"无视防御",value:"".concat(t.ignoreDef,"%"),color:"text-orange-500"}),(0,a.jsx)(O,{label:"HP",value:t.hp}),(0,a.jsx)(O,{label:"STR",value:t.str}),(0,a.jsx)(O,{label:"DEX",value:t.dex}),(0,a.jsx)(O,{label:"INT",value:t.int}),(0,a.jsx)(O,{label:"LUK",value:t.luk})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"border-b border-slate-100 pb-2 text-sm font-bold text-slate-700 dark:border-slate-700 dark:text-slate-300",children:"套装效果"}),s.length>0?s.map(e=>(0,a.jsxs)("div",{className:"rounded-lg bg-slate-50 p-3 dark:bg-slate-700/50",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:e.name}),(0,a.jsxs)("span",{className:"rounded-full bg-yellow-100 px-2 py-0.5 text-xs font-bold text-yellow-800",children:[e.count,"件"]})]}),(0,a.jsx)("div",{className:"space-y-1",children:e.bonuses.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-2 text-xs text-slate-600 dark:text-slate-400",children:[(0,a.jsxs)("span",{className:"shrink-0 font-bold text-blue-500",children:["[",e.pieces,"件]"]}),(0,a.jsx)("span",{children:e.stats})]},t))}),e.bonuses.length>0&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-1 text-[10px] text-purple-500",children:[(0,a.jsx)(D.A,{size:10}),(0,a.jsxs)("span",{children:["已激活特效: ",e.bonuses[e.bonuses.length-1].effect]})]})]},e.name)):(0,a.jsx)("div",{className:"py-4 text-center text-sm text-slate-400",children:"暂无套装效果"})]})]})}function O(e){let{label:t,value:s,icon:i,color:n="text-slate-700 dark:text-slate-300"}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between rounded border border-slate-100 bg-slate-50 p-2 dark:border-slate-700/50 dark:bg-slate-900/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-slate-500",children:[i,(0,a.jsx)("span",{children:t})]}),(0,a.jsx)("span",{className:"font-mono text-sm font-bold ".concat(n),children:s})]})}let E=["initial","unsealed4","max"],U={initial:"初始",unsealed4:"四解封",max:"满解"},M={initial:{str:0,dex:0,int:200,luk:0,att:0,matt:500,hp:0,mp:0,def:0,ignoreDef:20,bossDmg:30},unsealed4:{str:0,dex:0,int:250,luk:0,att:0,matt:600,hp:0,mp:0,def:0,ignoreDef:25,bossDmg:35},max:{str:0,dex:0,int:300,luk:0,att:0,matt:700,hp:0,mp:0,def:0,ignoreDef:30,bossDmg:40}},I=[{id:"initial",label:"初始"},{id:"unsealed4",label:"四解封"},{id:"max",label:"满解"}],B=[{key:"att",label:"攻击力"},{key:"matt",label:"魔法力"},{key:"bossDmg",label:"BOSS伤害%"},{key:"ignoreDef",label:"无视防御%"},{key:"str",label:"STR"},{key:"dex",label:"DEX"},{key:"int",label:"INT"},{key:"luk",label:"LUK"},{key:"hp",label:"HP"},{key:"mp",label:"MP"},{key:"def",label:"防御力"}];function R(e){let{stage:t,stats:s,onStageChange:i,onStatChange:n,onResetStage:r}=e;return(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-900/30",children:[(0,a.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:"创世武器属性"}),(0,a.jsx)("button",{type:"button",onClick:r,className:"rounded border border-slate-200 bg-white px-2 py-1 text-xs text-slate-600 hover:bg-slate-100 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-800/70",children:"重置当前阶段"})]}),(0,a.jsx)("div",{className:"mb-3 flex gap-1",children:I.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>i(e.id),className:"flex-1 rounded border px-2 py-1 text-xs ".concat(t===e.id?"border-yellow-500 bg-yellow-500 text-white":"border-slate-200 bg-white text-slate-600 hover:bg-slate-100 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-800/70"),children:e.label},e.id))}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:B.map(e=>{let{key:t,label:i}=e;return(0,a.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-[10px] text-slate-500",children:i}),(0,a.jsx)("input",{type:"number",min:0,step:1,value:s[t],onChange:e=>{let s=""===e.target.value?0:Number(e.target.value);n(t,Number.isFinite(s)?s:0)},className:"w-full rounded border border-slate-200 bg-white px-2 py-1 text-xs text-slate-800 outline-none focus:border-blue-400 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200"})]},t)})})]})}function P(e){let{open:t,stage:s,stageLabel:i,stats:n,onClose:r,onStageChange:o,onStatChange:l,onResetStage:d}=e;return t?(0,a.jsx)("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/40 p-4 backdrop-blur-[2px]",onMouseDown:r,role:"dialog","aria-modal":"true",children:(0,a.jsxs)("div",{className:"w-full max-w-[640px] rounded-xl border border-slate-200 bg-white shadow-2xl dark:border-slate-700 dark:bg-slate-900",onMouseDown:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3 dark:border-slate-700",children:[(0,a.jsxs)("div",{className:"font-bold text-slate-900 dark:text-slate-100",children:["创世武器（",i,"）"]}),(0,a.jsx)("button",{type:"button",onClick:r,className:"rounded bg-slate-100 px-2 py-1 text-xs text-slate-700 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",children:"关闭"})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(R,{stage:s,stats:n,onStageChange:o,onStatChange:l,onResetStage:d})})]})}):null}function z(e){var t;let{equippedItems:s,children:n}=e,[r,o]=(0,i.useState)("initial"),[l,d]=(0,i.useState)(M),[c,p]=(0,i.useState)(!1),m=(null===(t=s.weapon)||void 0===t?void 0:t.set)==="genesis";(0,i.useEffect)(()=>{let e=localStorage.getItem("maple_genesis_weapon");if(e)try{let t=JSON.parse(e),s=e=>"object"==typeof e&&null!==e?e:null,a=s(t),i=null==a?void 0:a.stage;E.includes(i)&&o(i);let n=e=>{let t=Number(e);return Number.isFinite(t)?t:0},r={initial:{...M.initial},unsealed4:{...M.unsealed4},max:{...M.max}},l=s(null==a?void 0:a.statsByStage);E.forEach(e=>{let t=s(null==l?void 0:l[e]);t&&(r[e]={str:n(t.str),dex:n(t.dex),int:n(t.int),luk:n(t.luk),att:n(t.att),matt:n(t.matt),hp:n(t.hp),mp:n(t.mp),def:n(t.def),ignoreDef:n(t.ignoreDef),bossDmg:n(t.bossDmg)})}),d(r)}catch(e){console.error("Failed to load genesis weapon config",e)}},[]),(0,i.useEffect)(()=>{localStorage.setItem("maple_genesis_weapon",JSON.stringify({stage:r,statsByStage:l}))},[r,l]),(0,i.useEffect)(()=>{m||p(!1)},[m]),(0,i.useEffect)(()=>{if(!c)return;let e=e=>{"Escape"===e.key&&p(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[c]),(0,i.useEffect)(()=>{if(!c)return;let e=document.body,t=e.style.overflow,s=e.style.paddingRight,a=window.innerWidth-document.documentElement.clientWidth;return e.style.overflow="hidden",a>0&&(e.style.paddingRight="".concat(a,"px")),()=>{e.style.overflow=t,e.style.paddingRight=s}},[c]);let g=U[r],u=(0,i.useMemo)(()=>{if(!m)return s;let e=s.weapon;if(!e)return s;let t=e.name.replace(/（.*）$/,"");return{...s,weapon:{...e,name:"".concat(t,"（").concat(g,"）"),stats:{...l[r]}}}},[m,s,r,g,l]),x=m?{stageLabel:g,onOpenEditor:()=>p(!0)}:void 0;return(0,a.jsxs)(a.Fragment,{children:[n({equippedItemsForCalc:u,genesisWeapon:x}),m&&(0,a.jsx)(P,{open:c,stage:r,stageLabel:g,stats:l[r],onClose:()=>p(!1),onStageChange:o,onStatChange:(e,t)=>{d(s=>({...s,[r]:{...s[r],[e]:t}}))},onResetStage:()=>{d(e=>({...e,[r]:{...M[r]}}))}})]})}let T={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},F={hidden:{opacity:0,y:20,filter:"blur(8px)"},visible:{opacity:1,y:0,filter:"blur(0px)"}},H={duration:.4,ease:"easeOut"};function J(){let[e,t]=(0,i.useState)(1),[s,n]=(0,i.useState)({}),[r,o]=(0,i.useState)(1),[l,d]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=e=>"maple_equipped_preset_".concat(e),s=Number(localStorage.getItem("maple_equipped_active_preset")),a=1===s||2===s||3===s?s:1;if(!localStorage.getItem(e(1))){let t=localStorage.getItem("maple_equipped");t&&localStorage.setItem(e(1),t)}t(a);let i=(t=>{var s;let a=null!==(s=localStorage.getItem(e(t)))&&void 0!==s?s:1===t?localStorage.getItem("maple_equipped"):null;if(a)try{return JSON.parse(a)}catch(e){console.error("Failed to load presets",e);return}})(a);i&&n(i),d(!0)},[]),(0,i.useEffect)(()=>{l&&localStorage.setItem("maple_equipped_active_preset",String(e))},[l,e]),(0,i.useEffect)(()=>{if(!l)return;let t="maple_equipped_preset_".concat(e),a=JSON.stringify(s);localStorage.setItem(t,a),localStorage.setItem("maple_equipped",a)},[s,l,e]);let c=a=>{if(!l||a===e)return;let i="maple_equipped_preset_".concat(e),r=JSON.stringify(s);localStorage.setItem(i,r);let o=localStorage.getItem("maple_equipped_preset_".concat(a)),d={};if(o)try{d=JSON.parse(o)}catch(e){console.error("Failed to load presets",e)}t(a),n(d)},p=(e,t)=>{n(s=>{var a,i;let n={...s},r=Object.keys(n).find(t=>{var s;return(null===(s=n[t])||void 0===s?void 0:s.id)===e.id});if(!t&&r)return s;let o=t;if(!o)switch(e.type){case"ring":o=["ring1","ring2","ring3","ring4","ring5","ring6"].find(e=>!n[e])||"ring1";break;case"pendant":o=["pendant1","pendant2"].find(e=>!n[e])||"pendant1";break;case"overall":delete n.top,delete n.bottom,o="top";break;default:o=e.type}return r&&o&&r!==o&&delete n[r],"overall"===e.type?(delete n.top,delete n.bottom,o="top"):"top"===e.type?(null===(a=s.top)||void 0===a?void 0:a.type)==="overall"&&delete n.top:"bottom"===e.type&&(null===(i=s.top)||void 0===i?void 0:i.type)==="overall"&&delete n.top,o&&(n[o]=e),n})},m=e=>{n(t=>{let s={...t};return delete s[e],s})};return(0,a.jsx)(z,{equippedItems:s,children:t=>{let{equippedItemsForCalc:s,genesisWeapon:i}=t;return(0,a.jsx)(G,{equippedItemsForCalc:s,genesisWeapon:i,presetId:e,onPresetChange:c,characterScale:r,setCharacterScale:o,onEquip:p,onUnequip:m})}})}function G(e){let{equippedItemsForCalc:t,genesisWeapon:s,presetId:r,onPresetChange:o,characterScale:l,setCharacterScale:d,onEquip:c,onUnequip:p}=e,{stats:m,activeSets:g}=(0,i.useMemo)(()=>{var e;let s={str:0,dex:0,int:0,luk:0,att:0,matt:0,hp:0,mp:0,def:0,ignoreDef:0,bossDmg:0},a={};if(Object.values(t).forEach(e=>{e.stats&&(s.str+=e.stats.str||0,s.dex+=e.stats.dex||0,s.int+=e.stats.int||0,s.luk+=e.stats.luk||0,s.att+=e.stats.att||0,s.matt+=e.stats.matt||0,s.hp+=e.stats.hp||0,s.mp+=e.stats.mp||0,s.def+=e.stats.def||0,s.ignoreDef+=e.stats.ignoreDef||0,s.bossDmg+=e.stats.bossDmg||0),e.set&&"none"!==e.set&&(a[e.set]=(a[e.set]||0)+1)}),(null===(e=t.weapon)||void 0===e?void 0:e.set)==="genesis"&&0===(a.endless||0)){let e=Object.keys(a).filter(e=>"genesis"!==e&&a[e]>=3);e.length>0&&e.forEach(e=>{a[e]+=1})}let i=Object.entries(a).flatMap(e=>{let[t,a]=e,i=y[t];if(!i)return[];let n=i.filter(e=>a>=e.pieces);return n.forEach(e=>{e.stats.split(", ").forEach(e=>{if(e.includes("全属性")){let t=parseInt(e.replace(/[^0-9]/g,""),10),a=Number.isFinite(t)?t:0;s.str+=a,s.dex+=a,s.int+=a,s.luk+=a;return}if(e.includes("攻击力")){let t=parseInt(e.replace(/[^0-9]/g,""),10);s.att+=Number.isFinite(t)?t:0;return}if(e.includes("魔法力")){let t=parseInt(e.replace(/[^0-9]/g,""),10);s.matt+=Number.isFinite(t)?t:0;return}if(e.includes("BOSS")){let t=parseInt(e.replace(/[^0-9]/g,""),10);s.bossDmg+=Number.isFinite(t)?t:0;return}if(e.includes("无视")){let t=parseInt(e.replace(/[^0-9]/g,""),10);s.ignoreDef+=Number.isFinite(t)?t:0}})}),[{name:i[0].name,count:a,bonuses:n}]});return{stats:s,activeSets:i}},[t]);return(0,a.jsx)("div",{className:"flex min-h-screen w-full flex-col bg-slate-50 font-[family-name:var(--font-inter-tight)] dark:bg-slate-900",children:(0,a.jsxs)("div",{className:"relative mx-auto flex h-screen w-full max-w-[1600px] flex-1 flex-col px-4 pt-4 pb-8",children:[(0,a.jsxs)("header",{className:"mb-4 flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"装备模拟器"}),(0,a.jsx)("div",{className:"text-sm text-slate-500",children:"v1.0.0dev | 支持 神秘/创世/无尽/漆黑 套装"})]}),(0,a.jsxs)(n.P.main,{className:"grid min-h-0 flex-1 grid-cols-12 gap-4",variants:T,initial:"hidden",animate:"visible",children:[(0,a.jsx)(n.P.div,{className:"col-span-12 flex min-h-[600px] flex-col lg:col-span-5",variants:F,transition:H,children:(0,a.jsx)(h,{equippedItems:t,onUnequip:p,onDropItem:c,characterScale:l,setCharacterScale:d,activeSets:g,presetId:r,onPresetChange:o})}),(0,a.jsx)(n.P.div,{className:"col-span-12 flex min-h-[600px] flex-col lg:col-span-5",variants:F,transition:H,children:(0,a.jsx)(L,{onEquip:c})}),(0,a.jsx)(n.P.div,{className:"col-span-12 flex min-h-[600px] flex-col lg:col-span-2",variants:F,transition:H,children:(0,a.jsx)(W,{stats:m,activeSets:g,genesisWeapon:s})})]})]})})}},7479:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(3986);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:d="",children:c,iconNode:p,...m}=e;return(0,a.createElement)("svg",{ref:t,...r,width:i,height:i,stroke:s,strokeWidth:l?24*Number(o)/Number(i):o,className:n("lucide",d),...m},[...p.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(c)?c:[c]])}),l=(e,t)=>{let s=(0,a.forwardRef)((s,r)=>{let{className:l,...d}=s;return(0,a.createElement)(o,{ref:r,iconNode:t,className:n("lucide-".concat(i(e)),l),...d})});return s.displayName="".concat(e),s}},646:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7479).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8111:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7479).A)("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]])},5545:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7479).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},6745:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return i}});let a=s(3986);function i(e,t){let s=(0,a.useRef)(()=>{}),i=(0,a.useRef)(()=>{});return(0,a.useMemo)(()=>e&&t?a=>{null===a?(s.current(),i.current()):(s.current=n(e,a),i.current=n(t,a))}:e||t,[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let s=e(t);return"function"==typeof s?s:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{var t=t=>e(e.s=t);e.O(0,[661,621,2,873,358],()=>t(160)),_N_E=e.O()}]);