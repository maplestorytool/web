(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[307],{6078:(e,r,a)=>{Promise.resolve().then(a.bind(a,2165))},2521:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2682),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3986),papaparse__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6468),papaparse__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(papaparse__WEBPACK_IMPORTED_MODULE_2__),_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8818),_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(646),_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(121),_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7874),_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5545),_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7705),_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3570),fflate__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4094),scrypt_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(827),scrypt_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(scrypt_js__WEBPACK_IMPORTED_MODULE_3__),process=__webpack_require__(5036);let PRIVATE_DATA_MAGIC=new TextEncoder().encode("MPD1"),PRIVATE_DATA_HEADER_LEN=49,PRIVATE_DATA_CANONICAL_PASSPHRASE="mapletool-maplestory",normalizePrivateDataPassphrase=e=>{let r=e.trim();return"mapletool"===r||"maplestory"===r?PRIVATE_DATA_CANONICAL_PASSPHRASE:r},fetchZipEntryBytes=async(e,r)=>{var a,t,l;let s=await fetch(e);if(!s.ok)throw Error("Failed to load ZIP file");let d=new Uint8Array(await s.arrayBuffer()),n=Object.entries((0,fflate__WEBPACK_IMPORTED_MODULE_4__.AO)(d)).filter(e=>{let[r,a]=e;return!r.endsWith("/")&&a&&a.length>0}),i=null!==(l=null!==(t=null!==(a=r?n.find(e=>{let[a]=e;return r.test(a)}):void 0)&&void 0!==a?a:n.find(e=>{let[r]=e;return r.toLowerCase().endsWith(".enc")}))&&void 0!==t?t:n.find(e=>{let[r]=e;return r.toLowerCase().endsWith(".csv")}))&&void 0!==l?l:n[0];if(!i)throw Error("ZIP file contains no readable entries");return i[1]},derivePrivateDataKey=async(e,r)=>{let a=new TextEncoder().encode(e),t=new Uint8Array(await (0,scrypt_js__WEBPACK_IMPORTED_MODULE_3__.scrypt)(a,r,16384,8,1,32)).buffer;return crypto.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"])},decryptPrivateDataBytes=async(e,r)=>{if(e.length<PRIVATE_DATA_HEADER_LEN)throw Error("Encrypted file is too small");if(!e.slice(0,4).every((e,r)=>e===PRIVATE_DATA_MAGIC[r]))throw Error("Invalid encrypted file header");let a=e[4];if(1!==a)throw Error("Unsupported encrypted version: ".concat(a));let t=5,l=21,s=21,d=33,n=33,i=49,o=e.slice(t,l),c=e.slice(s,d),x=e.slice(n,i),g=e.slice(i),b=await derivePrivateDataKey(r,o),m=new Uint8Array(g.length+x.length);return m.set(g),m.set(x,g.length),new Uint8Array(await crypto.subtle.decrypt({name:"AES-GCM",iv:c,additionalData:PRIVATE_DATA_MAGIC,tagLength:128},b,m))},fetchCsvFromEncryptedZip=async(e,r,a)=>{let t=await fetchZipEntryBytes(e,a),l=await decryptPrivateDataBytes(t,r);return(0,fflate__WEBPACK_IMPORTED_MODULE_4__.he)(l)},SkillCalculator=()=>{var _process_env_NEXT_PUBLIC_BASE_PATH,_process_env_NEXT_PUBLIC_PRIVATE_DATA_KEY;let[job,setJob]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[skillPoints,setSkillPoints]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({active:0,passive:0,buff:0,h1:1,h2:0,mastery1:0,mastery2:0,mastery3:0,mastery4:0,v1:0,v2:0,v3:0,v4:0}),[skills,setSkills]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[filteredSkills,setFilteredSkills]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[jobs,setJobs]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[loading,setLoading]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[jobsLoading,setJobsLoading]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[error,setError]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[jobsError,setJobsError]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[currentPage,setCurrentPage]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1),[itemsPerPage,setItemsPerPage]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(20),[skillPVPCommon,setSkillPVPCommon]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[skillPVPCommonLoading,setSkillPVPCommonLoading]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[skillPVPCommonError,setSkillPVPCommonError]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[calculationResults,setCalculationResults]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),basePath=(_process_env_NEXT_PUBLIC_BASE_PATH="/web",void 0!==_process_env_NEXT_PUBLIC_BASE_PATH)?_process_env_NEXT_PUBLIC_BASE_PATH:"",privateDataKey=null!==(_process_env_NEXT_PUBLIC_PRIVATE_DATA_KEY=process.env.NEXT_PUBLIC_PRIVATE_DATA_KEY)&&void 0!==_process_env_NEXT_PUBLIC_PRIVATE_DATA_KEY?_process_env_NEXT_PUBLIC_PRIVATE_DATA_KEY:"";(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{let e=(()=>{let e=privateDataKey.trim();if(e)return normalizePrivateDataPassphrase(e);try{var r;let e=null===(r=sessionStorage.getItem("PRIVATE_DATA_KEY"))||void 0===r?void 0:r.trim();if(e)return normalizePrivateDataPassphrase(e)}catch(e){}return normalizePrivateDataPassphrase("maplestory")})();if(!e){let e="缺少解密密钥：请设置 NEXT_PUBLIC_PRIVATE_DATA_KEY（或刷新后输入密钥）";setError(e),setJobsError(e),setSkillPVPCommonError(e),setLoading(!1),setJobsLoading(!1),setSkillPVPCommonLoading(!1);return}let r=async()=>{try{setJobsLoading(!0),setJobsError(null);let r=await fetchCsvFromEncryptedZip("".concat(basePath,"/private/db_8f3d.csv.zip"),e,/(^|\/)db_8f3d\.csv\.enc$/i);papaparse__WEBPACK_IMPORTED_MODULE_2___default().parse(r,{header:!0,skipEmptyLines:!0,complete:e=>{if(e.errors.length>0){if(console.warn("Job CSV parsing errors:",e.errors),e.data.length>0){let r=e.data.filter(e=>""!==e.jobName.trim()),a=new Map;r.forEach(e=>{a.set(e.jobID,e)});let t=Array.from(a.values());setJobs(t),t.length>0&&setJob(t[0].jobID),e.errors.length>0&&setJobsError("解析职业CSV文件时出现".concat(e.errors.length,"个错误，但仍加载了").concat(t.length,"个职业"))}else setJobsError("解析职业CSV文件时出现错误，无法加载职业数据")}else{let r=e.data.filter(e=>""!==e.jobName.trim()),a=new Map;r.forEach(e=>{a.set(e.jobID,e)});let t=Array.from(a.values());setJobs(t),t.length>0&&setJob(t[0].jobID)}setJobsLoading(!1)},error:e=>{setJobsError("Error parsing job CSV file"),console.error("Papa Parse error for jobs:",e),setJobsLoading(!1)}})}catch(e){setJobsError("Error loading jobs data"),console.error("Error loading jobs:",e),setJobsLoading(!1)}},a=async()=>{try{setSkillPVPCommonLoading(!0),setSkillPVPCommonError(null);let r=await fetchCsvFromEncryptedZip("".concat(basePath,"/private/db_19b7.csv.zip"),e,/(^|\/)db_19b7\.csv\.enc$/i);papaparse__WEBPACK_IMPORTED_MODULE_2___default().parse(r,{header:!0,skipEmptyLines:!0,complete:e=>{e.errors.length>0?(console.warn("SkillPVPCommon CSV parsing errors:",e.errors),e.data.length>0?(setSkillPVPCommon(e.data),e.errors.length>0&&setSkillPVPCommonError("解析技能PVP通用CSV文件时出现".concat(e.errors.length,"个错误，但仍加载了").concat(e.data.length,"条数据"))):setSkillPVPCommonError("解析技能PVP通用CSV文件时出现错误，无法加载数据")):setSkillPVPCommon(e.data),setSkillPVPCommonLoading(!1)},error:e=>{setSkillPVPCommonError("Error parsing skillPVPCommon CSV file"),console.error("Papa Parse error for skillPVPCommon:",e),setSkillPVPCommonLoading(!1)}})}catch(e){setSkillPVPCommonError("Error loading skillPVPCommon data"),console.error("Error loading skillPVPCommon:",e),setSkillPVPCommonLoading(!1)}};Promise.all([(async()=>{try{setLoading(!0),setError(null);let r=await fetchCsvFromEncryptedZip("".concat(basePath,"/private/db_c2a1.csv.zip"),e,/(^|\/)db_c2a1\.csv\.enc$/i);papaparse__WEBPACK_IMPORTED_MODULE_2___default().parse(r,{header:!0,skipEmptyLines:!0,complete:e=>{e.errors.length>0?(console.warn("CSV parsing errors:",e.errors),e.data.length>0?(setSkills(e.data),setError("解析CSV文件时出现".concat(e.errors.length,"个错误，但仍加载了").concat(e.data.length,"条技能数据"))):setError("解析CSV文件时出现错误，无法加载技能数据")):setSkills(e.data),setLoading(!1)},error:e=>{setError("Error parsing CSV file"),console.error("Papa Parse error:",e),setLoading(!1)}})}catch(e){setError("Error loading skills data"),console.error("Error loading skills:",e),setLoading(!1)}})(),r(),a()]).catch(()=>{})},[]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{job&&skills.length>0?(setFilteredSkills(skills.filter(e=>e.skillID.startsWith(job.substring(0,3)))),setCurrentPage(1)):job||(setFilteredSkills([]),setCurrentPage(1))},[job,skills]);let indexOfLastItem=currentPage*itemsPerPage,indexOfFirstItem=indexOfLastItem-itemsPerPage,currentSkills=filteredSkills.slice(indexOfFirstItem,indexOfLastItem),totalPages=Math.ceil(filteredSkills.length/itemsPerPage),processSkillDesc=e=>e?e.replace(/\\n/g,"\n").replace(/\#c([^#]+)\#/g,'<span class="inline-block px-1.5 py-0.5 bg-blue-50 text-blue-700 rounded text-xs font-semibold mx-1">$1</span>'):"",calculateDamage=(formula,level)=>{try{let processedFormula=formula.replace(/x/g,level.toString());processedFormula=processedFormula.replace(/d\(([^)]+)\)/g,(_,expr)=>{try{let result=eval(expr);return Math.floor(result).toString()}catch(e){return expr}}),processedFormula=processedFormula.replace(/u\(([^)]+)\)/g,(_,expr)=>{try{let result=eval(expr);return Math.ceil(result).toString()}catch(e){return expr}});let result=eval(processedFormula);return Number(result)}catch(error){return console.error("Error calculating damage:",error),0}},calculateSkills=()=>{let e=Object.values(skillPoints).reduce((e,r)=>e+(r||0),0);if(filteredSkills.length>0&&skillPVPCommon.length>0){let r=filteredSkills.filter(e=>e.skillName.includes("VI")).map(e=>{let r=skillPVPCommon.find(r=>r.skillID===e.skillID&&"damage"===r.commonName);if(!r)return{skillID:e.skillID,skillName:e.skillName,damageFormula:"N/A",calculatedDamage:0,conversionValue:0};{let a=r.commonValue,t=calculateDamage(a,1),l=1*t;return{skillID:e.skillID,skillName:e.skillName,damageFormula:a,calculatedDamage:t,conversionValue:l}}}),a=r.reduce((e,r)=>e+((null==r?void 0:r.conversionValue)||0),0);setCalculationResults({totalPoints:e,skillDamages:r,totalConversionValue:a})}else setCalculationResults(null)};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-[#fdfbf7] border-b border-[#f3e8d0] p-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h2",{className:"text-xl font-bold text-[#8b5e34] mb-2 flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__.A,{className:"w-6 h-6"}),"技能计算器"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-[#8b5e34]/80",children:"计算技能点分配方案，帮助玩家规划技能升级路径，最大化技能效果。"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-gradient-to-r from-[#fdfbf7] to-white border-b border-[#f3e8d0] p-4 flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__.A,{className:"w-5 h-5 text-[#d4a017]"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"font-bold text-[#8b5e34]",children:"职业选择"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("select",{className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",value:job,onChange:e=>setJob(e.target.value),disabled:jobsLoading,children:jobsLoading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"",children:"加载职业中..."}):jobs.length>0?jobs.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:e.jobID,children:e.jobName},e.jobID)):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"",children:"无可用职业"})}),jobsError&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mt-2 p-2 bg-red-50 rounded-lg flex items-center gap-2 text-xs text-red-600",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__.A,{className:"w-4 h-4"}),jobsError]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-gradient-to-r from-[#fdfbf7] to-white border-b border-[#f3e8d0] p-4 flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__.A,{className:"w-5 h-5 text-[#d4a017]"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"font-bold text-[#8b5e34]",children:"技能分配"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[{label:"H1",key:"h1",min:1},{label:"H2",key:"h2",min:0},{label:"精通1",key:"mastery1",min:0},{label:"精通2",key:"mastery2",min:0},{label:"精通3",key:"mastery3",min:0},{label:"精通4",key:"mastery4",min:0},{label:"V1",key:"v1",min:0},{label:"V2",key:"v2",min:0},{label:"V3",key:"v3",min:0},{label:"V4",key:"v4",min:0}].map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-2 bg-gray-50 rounded-lg border border-gray-100 flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"number",min:e.min,max:"30",className:"w-12 p-1 text-center text-sm border border-gray-200 rounded bg-white focus:border-blue-400 outline-none",value:skillPoints[e.key]||(1===e.min?1:0),onChange:r=>{let a=parseInt(r.target.value)||(1===e.min?1:0);a=Math.max(e.min,Math.min(30,a)),setSkillPoints({...skillPoints,[e.key]:a})}})]},e.key))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold py-2.5 px-4 rounded-lg shadow-md transition-all transform hover:scale-[1.02] active:scale-[0.98]",onClick:calculateSkills,children:"开始计算"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[calculationResults&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-blue-100 p-6 relative overflow-hidden",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-full blur-3xl -mr-16 -mt-16"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3",{className:"font-bold text-lg mb-4 text-gray-800 relative z-10 flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__.A,{className:"w-5 h-5 text-blue-600"}),"计算结果"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6 relative z-10",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"总技能点数"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:calculationResults.totalPoints})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs text-blue-600 mb-1 font-semibold",children:"总伤害换算值"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:calculationResults.totalConversionValue.toFixed(2)})]})]}),calculationResults.skillDamages.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative z-10",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4",{className:"text-sm font-bold text-gray-700 mb-3",children:"技能伤害换算明细"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("table",{className:"w-full text-sm text-left text-gray-700",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("thead",{className:"text-xs text-gray-600 uppercase bg-gray-50 border-b border-gray-200",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{className:"px-4 py-3 font-medium",children:"技能名称"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{className:"px-4 py-3 font-medium hidden sm:table-cell",children:"伤害公式"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{className:"px-4 py-3 font-medium",children:"计算伤害"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{className:"px-4 py-3 font-medium text-right",children:"换算值"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tbody",{className:"divide-y divide-gray-100 bg-white",children:calculationResults.skillDamages.slice(0,10).map((e,r)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{className:"px-4 py-2.5 font-medium text-gray-900",children:e.skillName||"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{className:"px-4 py-2.5 font-mono text-xs text-gray-500 hidden sm:table-cell truncate max-w-[150px]",title:e.damageFormula,children:e.damageFormula||"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{className:"px-4 py-2.5",children:e.calculatedDamage.toLocaleString()}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{className:"px-4 py-2.5 text-right font-semibold text-blue-600",children:e.conversionValue.toFixed(2)})]},r))})]})}),calculationResults.skillDamages.length>10&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-xs text-center text-gray-500 mt-2",children:["仅显示前 10 个技能，共 ",calculationResults.skillDamages.length," 个技能"]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-gradient-to-r from-[#fdfbf7] to-white border-b border-[#f3e8d0] p-4 flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InfoIcon,{className:"w-5 h-5 text-[#d4a017]"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"font-bold text-[#8b5e34]",children:"技能数据浏览"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-xs text-gray-500",children:[filteredSkills.length," 个技能"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"p-0",children:loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"animate-spin w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-2"}),"加载技能数据中..."]}):error?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-8 text-center text-red-500 bg-red-50 m-4 rounded-lg border border-red-100",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__.A,{className:"w-6 h-6 mx-auto mb-2"}),error]}):filteredSkills.length>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"overflow-x-auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("table",{className:"w-full text-sm text-left text-gray-600",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 border-b border-gray-100",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{className:"px-4 py-3 font-medium w-1/4",children:"技能名称"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{className:"px-4 py-3 font-medium w-20 text-center",children:"最高等级"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{className:"px-4 py-3 font-medium",children:"详细描述"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tbody",{className:"divide-y divide-gray-50",children:currentSkills.map((e,r)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{className:"px-4 py-3 font-medium text-gray-900 align-top",children:e.skillName||"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{className:"px-4 py-3 text-center align-top",children:e.maxLevel||"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{className:"px-4 py-3 text-xs leading-relaxed align-top",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{dangerouslySetInnerHTML:{__html:processSkillDesc(e.skillDesc||"")}})})]},r))})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-4 border-t border-gray-100 flex items-center justify-between bg-gray-50/50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-xs text-gray-500",children:["第 ",indexOfFirstItem+1," - ",Math.min(indexOfLastItem,filteredSkills.length)," 条"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>setCurrentPage(e=>Math.max(e-1,1)),disabled:1===currentPage,className:"p-1.5 rounded-md hover:bg-gray-200 text-gray-600 disabled:opacity-30 disabled:hover:bg-transparent transition-colors",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__.A,{className:"w-4 h-4"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"text-xs font-medium text-gray-700 px-2",children:[currentPage," / ",totalPages]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>setCurrentPage(e=>Math.min(e+1,totalPages)),disabled:currentPage===totalPages,className:"p-1.5 rounded-md hover:bg-gray-200 text-gray-600 disabled:opacity-30 disabled:hover:bg-transparent transition-colors",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__.A,{className:"w-4 h-4"})})]})]})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-12 text-center text-gray-400",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_AlertCircle_BookOpen_Calculator_ChevronLeft_ChevronRight_Search_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__.A,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:"没有找到相关技能数据"})]})})]})]})]})]})};function InfoIcon(e){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M12 16v-4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M12 8h.01"})]})}let __WEBPACK_DEFAULT_EXPORT__=SkillCalculator},2165:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var t=a(2682),l=a(3986),s=a(6661);let d=()=>{let[e,r]=(0,l.useState)(""),[a,s]=(0,l.useState)(""),[d,n]=(0,l.useState)(""),[i,o]=(0,l.useState)({normalDamage:0,critDamage:0,averageDamage:0}),c=()=>{let r=parseFloat(e)||0,t=parseFloat(a)||0,l=r*(parseFloat(d)||0),s=1.5*l,n=l*(1-t/100)+t/100*s;o({normalDamage:Math.floor(l),critDamage:Math.floor(s),averageDamage:Math.floor(n)})};return(0,t.jsxs)("div",{className:"relative rounded-2xl bg-blue-100/40 p-6 ring-1 ring-blue-200/50 ring-inset dark:bg-blue-900/40 dark:ring-blue-800/50",children:[(0,t.jsx)("p",{className:"text-base text-blue-600 dark:text-blue-400 mb-4",children:"计算角色的伤害输出，考虑装备属性、技能效果、Buff效果等因素，帮助玩家优化装备搭配和技能选择。"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mt-6",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-[300px] bg-white/80 dark:bg-blue-800/50 rounded-xl p-4",children:[(0,t.jsx)("h3",{className:"font-medium text-lg mb-3 text-blue-800 dark:text-blue-200",children:"输入参数"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"攻击力/魔力"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2 border border-blue-200 dark:border-blue-700 rounded-lg bg-white dark:bg-blue-900 text-blue-800 dark:text-blue-200",placeholder:"输入攻击力或魔力值",value:e,onChange:e=>r(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"暴击率"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2 border border-blue-200 dark:border-blue-700 rounded-lg bg-white dark:bg-blue-900 text-blue-800 dark:text-blue-200",placeholder:"输入暴击率(%)",value:a,onChange:e=>s(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"技能倍率"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2 border border-blue-200 dark:border-blue-700 rounded-lg bg-white dark:bg-blue-900 text-blue-800 dark:text-blue-200",placeholder:"输入技能倍率",value:d,onChange:e=>n(e.target.value)})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-[300px] bg-white/80 dark:bg-blue-800/50 rounded-xl p-4",children:[(0,t.jsx)("h3",{className:"font-medium text-lg mb-3 text-blue-800 dark:text-blue-200",children:"计算结果"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"普通伤害"}),(0,t.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:i.normalDamage})]}),(0,t.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"暴击伤害"}),(0,t.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:i.critDamage})]}),(0,t.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"平均伤害"}),(0,t.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:i.averageDamage})]})]}),(0,t.jsx)("button",{className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200",onClick:c,children:"计算"})]})]})]})};var n=a(2521);let i=()=>{let[e,r]=(0,l.useState)("other"),[a,s]=(0,l.useState)("strength"),[d,n]=(0,l.useState)("dexterity"),[i,o]=(0,l.useState)({strength:{base:0,additional:0,percentage:0,final:0},dexterity:{base:0,additional:0,percentage:0,final:0},intelligence:{base:0,additional:0,percentage:0,final:0},luck:{base:0,additional:0,percentage:0,final:0},hp:{base:0,additional:0,percentage:0,final:0}}),[c,x]=(0,l.useState)({attack:0,defense:0,accuracy:0,avoid:0}),[g,b]=(0,l.useState)({strength:0,dexterity:0,intelligence:0,luck:0,hpBare:0,hpTotal:0,statValue:0}),m=(0,l.useMemo)(()=>["strength","dexterity","intelligence","luck"],[]),h=e=>{let r=Number(e);return Number.isFinite(r)?r:0},u=e=>Math.floor(Math.floor(Math.floor(e.base+Math.floor(e.additional))*(1+e.percentage/100))+e.final),p=()=>{let r={strength:u(i.strength),dexterity:u(i.dexterity),intelligence:u(i.intelligence),luck:u(i.luck)},t=Math.floor(i.hp.base+Math.floor(i.hp.additional)+i.hp.final),l=u(i.hp),s=0;s="demonAvenger"===e?Math.floor(Math.floor(t/3.5)+.8*Math.floor((l-t)/3.5)+r.strength):"xenon"===e?Math.floor((r.strength+r.dexterity+r.luck)*3):Math.floor(4*r[a]+("dexterity+strength"===d?r.dexterity+r.strength:r[d]));let n=Math.floor(.5*r.strength+.3*r.dexterity);x({attack:n,defense:Math.floor(.3*r.strength+.4*r.dexterity),accuracy:Math.floor(.6*r.dexterity+.3*r.luck),avoid:Math.floor(.4*r.dexterity+.5*r.luck)}),b({...r,hpBare:t,hpTotal:l,statValue:s})},j=(0,l.useMemo)(()=>[{key:"strength",label:"力量"},{key:"dexterity",label:"敏捷"},{key:"intelligence",label:"智力"},{key:"luck",label:"运气"}],[]);return(0,t.jsxs)("div",{className:"relative rounded-2xl bg-green-100/40 p-6 ring-1 ring-green-200/50 ring-inset dark:bg-green-900/40 dark:ring-green-800/50",children:[(0,t.jsx)("p",{className:"text-base text-green-600 dark:text-green-400 mb-4",children:"计算角色属性加点方案，帮助玩家根据职业特性和玩法风格，优化属性分配。"}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"font-medium text-lg mb-3 text-green-800 dark:text-green-200",children:"职业主副属性"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left text-green-800 dark:text-green-200 border-collapse",children:[(0,t.jsx)("thead",{className:"text-xs text-green-700 uppercase bg-green-100 dark:bg-green-900/50 dark:text-green-300",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",className:"px-4 py-3 border border-green-200 dark:border-green-800",children:"职业"}),(0,t.jsx)("th",{scope:"col",className:"px-4 py-3 border border-green-200 dark:border-green-800",children:"主属性"}),(0,t.jsx)("th",{scope:"col",className:"px-4 py-3 border border-green-200 dark:border-green-800",children:"副属性"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"战士（恶魔复仇者除外）"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"力量"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"敏捷"})]}),(0,t.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"恶魔复仇者"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"最大血量"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"力量"})]}),(0,t.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"魔法师"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"智力"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"运气"})]}),(0,t.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"弓箭手"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"敏捷"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"力量"})]}),(0,t.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"飞侠（拳套职业、幻影、虎影）"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"运气"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"敏捷"})]}),(0,t.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"飞侠（短刀职业、魔链影士）"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"运气"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"敏捷 + 力量"})]}),(0,t.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"海盗（短枪职业、爆莉萌天使）"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"敏捷"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"力量"})]}),(0,t.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"海盗（指节职业、神炮王）"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"力量"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"敏捷"})]}),(0,t.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"尖兵"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"力量 + 敏捷 + 运气"}),(0,t.jsx)("td",{className:"px-4 py-2 border border-green-200 dark:border-green-800",children:"无"})]})]})]})})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"font-medium text-lg mb-3 text-green-800 dark:text-green-200",children:"属性值计算公式"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/50 rounded-lg border border-green-200 dark:border-green-800",children:[(0,t.jsx)("h4",{className:"font-medium mb-2 text-green-700 dark:text-green-300",children:"恶魔复仇者："}),(0,t.jsx)("p",{className:"text-green-600 dark:text-green-400",children:"⌊裸血量 \xf7 3.5⌋ + 0.8 \xd7 ⌊(总血量 - 裸血量) \xf7 3.5⌋ + 总力量"})]}),(0,t.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/50 rounded-lg border border-green-200 dark:border-green-800",children:[(0,t.jsx)("h4",{className:"font-medium mb-2 text-green-700 dark:text-green-300",children:"尖兵："}),(0,t.jsx)("p",{className:"text-green-600 dark:text-green-400",children:"(总力量 + 总敏捷 + 总运气) \xd7 3"})]}),(0,t.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/50 rounded-lg border border-green-200 dark:border-green-800",children:[(0,t.jsx)("h4",{className:"font-medium mb-2 text-green-700 dark:text-green-300",children:"其他各职业："}),(0,t.jsx)("p",{className:"text-green-600 dark:text-green-400",children:"总主属性 \xd7 4 + 总副属性"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mt-6",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-[300px] bg-white/80 dark:bg-green-800/50 rounded-xl p-4",children:[(0,t.jsx)("h3",{className:"font-medium text-lg mb-3 text-green-800 dark:text-green-200",children:"属性输入"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-green-700 dark:text-green-300 mb-1",children:"职业类型"}),(0,t.jsxs)("select",{className:"w-full p-2 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-900 text-green-800 dark:text-green-200",value:e,onChange:e=>r(e.target.value),children:[(0,t.jsx)("option",{value:"other",children:"其他职业"}),(0,t.jsx)("option",{value:"demonAvenger",children:"恶魔复仇者"}),(0,t.jsx)("option",{value:"xenon",children:"尖兵"})]})]}),"other"===e&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-green-700 dark:text-green-300 mb-1",children:"主属性"}),(0,t.jsx)("select",{className:"w-full p-2 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-900 text-green-800 dark:text-green-200",value:a,onChange:e=>s(e.target.value),children:j.map(e=>(0,t.jsx)("option",{value:e.key,children:e.label},e.key))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-green-700 dark:text-green-300 mb-1",children:"副属性"}),(0,t.jsxs)("select",{className:"w-full p-2 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-900 text-green-800 dark:text-green-200",value:d,onChange:e=>n(e.target.value),children:[j.map(e=>(0,t.jsx)("option",{value:e.key,children:e.label},e.key)),(0,t.jsx)("option",{value:"dexterity+strength",children:"敏捷 + 力量"})]})]})]})]}),(0,t.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-900/50 rounded-lg border border-green-200 dark:border-green-800",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-green-700 dark:text-green-300 mb-2",children:"血量"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-green-700/80 dark:text-green-300/80 mb-1",children:"基础"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-900 text-green-800 dark:text-green-200",placeholder:"0",value:i.hp.base,onChange:e=>o({...i,hp:{...i.hp,base:h(e.target.value)}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-green-700/80 dark:text-green-300/80 mb-1",children:"附加"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-900 text-green-800 dark:text-green-200",placeholder:"0",value:i.hp.additional,onChange:e=>o({...i,hp:{...i.hp,additional:h(e.target.value)}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-green-700/80 dark:text-green-300/80 mb-1",children:"百分比 (%)"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-900 text-green-800 dark:text-green-200",placeholder:"0",value:i.hp.percentage,onChange:e=>o({...i,hp:{...i.hp,percentage:h(e.target.value)}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-green-700/80 dark:text-green-300/80 mb-1",children:"最终"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-900 text-green-800 dark:text-green-200",placeholder:"0",value:i.hp.final,onChange:e=>o({...i,hp:{...i.hp,final:h(e.target.value)}})})]})]})]}),m.map(e=>{var r,a;let l=null!==(a=null===(r=j.find(r=>r.key===e))||void 0===r?void 0:r.label)&&void 0!==a?a:e,s=i[e];return(0,t.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-900/50 rounded-lg border border-green-200 dark:border-green-800",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-green-700 dark:text-green-300 mb-2",children:l}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-green-700/80 dark:text-green-300/80 mb-1",children:"基础"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-900 text-green-800 dark:text-green-200",placeholder:"0",value:s.base,onChange:r=>o({...i,[e]:{...s,base:h(r.target.value)}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-green-700/80 dark:text-green-300/80 mb-1",children:"附加"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-900 text-green-800 dark:text-green-200",placeholder:"0",value:s.additional,onChange:r=>o({...i,[e]:{...s,additional:h(r.target.value)}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-green-700/80 dark:text-green-300/80 mb-1",children:"百分比 (%)"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-900 text-green-800 dark:text-green-200",placeholder:"0",value:s.percentage,onChange:r=>o({...i,[e]:{...s,percentage:h(r.target.value)}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-green-700/80 dark:text-green-300/80 mb-1",children:"最终"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-900 text-green-800 dark:text-green-200",placeholder:"0",value:s.final,onChange:r=>o({...i,[e]:{...s,final:h(r.target.value)}})})]})]})]},e)})]})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-[300px] bg-white/80 dark:bg-green-800/50 rounded-xl p-4",children:[(0,t.jsx)("h3",{className:"font-medium text-lg mb-3 text-green-800 dark:text-green-200",children:"属性效果"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-900 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"属性值"}),(0,t.jsx)("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:g.statValue}),(0,t.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-green-700/80 dark:text-green-300/80",children:[(0,t.jsxs)("div",{children:["力量：",g.strength]}),(0,t.jsxs)("div",{children:["敏捷：",g.dexterity]}),(0,t.jsxs)("div",{children:["智力：",g.intelligence]}),(0,t.jsxs)("div",{children:["运气：",g.luck]}),(0,t.jsxs)("div",{children:["裸血量：",g.hpBare]}),(0,t.jsxs)("div",{children:["总血量：",g.hpTotal]})]})]}),(0,t.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-900 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"攻击力"}),(0,t.jsx)("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:c.attack})]}),(0,t.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-900 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"防御力"}),(0,t.jsx)("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:c.defense})]}),(0,t.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-900 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"命中"}),(0,t.jsx)("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:c.accuracy})]}),(0,t.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-900 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"回避"}),(0,t.jsx)("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:c.avoid})]})]}),(0,t.jsx)("button",{className:"mt-4 w-full bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200",onClick:p,children:"计算"})]})]})]})};var o=a(1989),c=a(8034),x=a(8111);let g=()=>{let[e,r]=(0,l.useState)({base:0,additional:0,percentage:0,final:0}),[a,s]=(0,l.useState)({base:0,additional:0,percentage:0,final:0}),[d,n]=(0,l.useState)({weaponCoeff:0,additional:0,percentage:0,final:0}),[i,g]=(0,l.useState)({primaryStatValue:0,secondaryStatValue:0,attackValue:0,maxAttack:0}),b=()=>{let r=Math.floor(Math.floor((e.base+Math.floor(e.additional))*(1+e.percentage/100))+e.final),t=Math.floor(Math.floor((a.base+Math.floor(a.additional))*(1+a.percentage/100))+a.final),l=Math.floor(Math.floor(Math.floor(d.additional)*(1+d.percentage/100))+d.final),s=Math.floor((4*r+1*t)*d.weaponCoeff*l/100);g({primaryStatValue:r,secondaryStatValue:t,attackValue:l,maxAttack:s})};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-[#fdfbf7] border-b border-[#f3e8d0] p-6",children:(0,t.jsx)("h2",{className:"text-xl font-bold text-[#8b5e34] mb-2",children:"计算角色的最终实际单技能攻击力（实验型计算器），将能进行各角色的详细参数设置。"})}),(0,t.jsx)("div",{className:"p-8 space-y-8",children:(0,t.jsxs)("div",{className:"bg-[#f8f9fa] rounded-xl p-6 border border-gray-200",children:[(0,t.jsxs)("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1 h-6 bg-blue-600 rounded-full"}),"实际最大单技能攻击力计算公式"]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-gray-700 mb-2",children:"一般公式："}),(0,t.jsx)("p",{className:"font-mono text-sm text-gray-600 bg-white p-4 rounded-lg border border-gray-200 leading-relaxed break-all",children:"((增幅上限 +（自身上限伤害）\xd7（1 + 百分比伤害/100） + 额外增幅 ... + 4 \xd7（固定增幅） +（目标防御率）\xd7（1 + 百分比忽视/100） + 目标属性防御）\xd7（1 + ... （自标防御值/1\xd7（1 + 自身伤害/100） + 终伤/最终伤害）/100"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-gray-700 mb-3",children:"参数说明："}),(0,t.jsxs)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-gray-600",children:[(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-500 mt-1",children:"•"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"攻击力："}),"角色的基础与加成总和，武器与装备、增益效果、冒险副职等综合。"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-500 mt-1",children:"•"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"最终伤害："}),"包括技能描述中的最终伤害、怪物防御修正、BOSS承伤修正。"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-500 mt-1",children:"•"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"伤害增加："}),"包含普通伤害、BOSS伤害、技能伤害增加等，PVP参数暂不考虑。"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-500 mt-1",children:"•"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"忽视防御："}),"角色面板与技能的忽视防御合计，包含链接技能、被动技能、潜能、装备、符文等。"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-500 mt-1",children:"•"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"暴击率、暴击伤害："}),"角色的面板暴击相关参数。"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-500 mt-1",children:"•"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"攻速、触发："}),"不同职业技能的攻速与触发频率。"]})]})]})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-[#fdfbf7] to-white border-b border-[#f3e8d0] p-4 flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"w-5 h-5 text-[#d4a017]"}),(0,t.jsx)("h3",{className:"font-bold text-[#8b5e34]",children:"主属性参数"})]}),(0,t.jsxs)("div",{className:"p-5 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"裸主属性"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",placeholder:"0",value:e.base,onChange:a=>r({...e,base:parseInt(a.target.value)||0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"附加主属性"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",placeholder:"0",value:e.additional,onChange:a=>r({...e,additional:parseInt(a.target.value)||0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"百分比主属性 (%)"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",placeholder:"0",value:e.percentage,onChange:a=>r({...e,percentage:parseFloat(a.target.value)||0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"最终主属性"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",placeholder:"0",value:e.final,onChange:a=>r({...e,final:parseInt(a.target.value)||0})})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-[#fdfbf7] to-white border-b border-[#f3e8d0] p-4 flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"w-5 h-5 text-[#d4a017]"}),(0,t.jsx)("h3",{className:"font-bold text-[#8b5e34]",children:"副属性参数"})]}),(0,t.jsxs)("div",{className:"p-5 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"裸副属性"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",placeholder:"0",value:a.base,onChange:e=>s({...a,base:parseInt(e.target.value)||0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"附加副属性"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",placeholder:"0",value:a.additional,onChange:e=>s({...a,additional:parseInt(e.target.value)||0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"百分比副属性 (%)"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",placeholder:"0",value:a.percentage,onChange:e=>s({...a,percentage:parseFloat(e.target.value)||0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"最终副属性"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",placeholder:"0",value:a.final,onChange:e=>s({...a,final:parseInt(e.target.value)||0})})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-[#fdfbf7] to-white border-b border-[#f3e8d0] p-4 flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"w-5 h-5 text-[#d4a017]"}),(0,t.jsx)("h3",{className:"font-bold text-[#8b5e34]",children:"攻击力参数"})]}),(0,t.jsxs)("div",{className:"p-5 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"武器系数"}),(0,t.jsx)("input",{type:"number",step:"0.01",className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",placeholder:"0",value:d.weaponCoeff,onChange:e=>n({...d,weaponCoeff:parseFloat(e.target.value)||0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"附加攻击"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",placeholder:"0",value:d.additional,onChange:e=>n({...d,additional:parseInt(e.target.value)||0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"百分比攻击 (%)"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",placeholder:"0",value:d.percentage,onChange:e=>n({...d,percentage:parseFloat(e.target.value)||0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"最终攻击"}),(0,t.jsx)("input",{type:"number",className:"w-full p-2.5 border border-gray-200 rounded-lg bg-gray-50 text-gray-800 text-sm focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",placeholder:"0",value:d.final,onChange:e=>n({...d,final:parseInt(e.target.value)||0})})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-blue-100 p-6 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-full blur-3xl -mr-16 -mt-16"}),(0,t.jsx)("h3",{className:"font-bold text-lg mb-6 text-gray-800 relative z-10",children:"计算结果"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 relative z-10",children:[(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100 hover:border-blue-200 transition-colors",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"主属性计算值"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:i.primaryStatValue.toLocaleString()})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100 hover:border-blue-200 transition-colors",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"副属性计算值"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:i.secondaryStatValue.toLocaleString()})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100 hover:border-blue-200 transition-colors",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"攻击力计算值"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:i.attackValue.toLocaleString()})]}),(0,t.jsxs)("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[(0,t.jsx)("p",{className:"text-xs text-blue-600 mb-1 font-semibold",children:"实际最大属性攻击力"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:i.maxAttack.toLocaleString()})]})]}),(0,t.jsx)("div",{className:"mt-8 flex justify-end",children:(0,t.jsx)("button",{className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-blue-500/30 transition-all transform hover:scale-105 active:scale-95",onClick:b,children:"开始计算"})})]})]})},b={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},m={hidden:{opacity:0,y:20,filter:"blur(8px)"},visible:{opacity:1,y:0,filter:"blur(0px)"}},h={duration:.3};function u(){let[e,r]=(0,l.useState)("maxAttack"),a=[{id:"maxAttack",label:"实际最大单技能攻击力计算器"},{id:"stat",label:"属性计算器"},{id:"damage",label:"伤害计算器"},{id:"skill",label:"技能计算器"}];return(0,t.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-white dark:bg-slate-900 font-[family-name:var(--font-inter-tight)]",children:[(0,t.jsxs)("div",{className:"w-full bg-gradient-to-b from-[#1a2e5a] to-[#2d4a8a] text-white pt-12 pb-24 relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"mx-auto w-full max-w-[1440px] px-4 relative z-10 flex flex-col md:flex-row items-center justify-between",children:[(0,t.jsxs)("div",{className:"max-w-2xl",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold mb-4 tracking-tight",children:["冒险岛计算器工具集合、冒险玩家计算方案、",(0,t.jsx)("br",{}),"伤害计算、性能综合评估、优化增益等。"]}),(0,t.jsx)("p",{className:"text-blue-200 text-lg opacity-80",children:"专业的冒险岛数据分析工具，助你打造最强角色。"})]}),(0,t.jsx)("div",{className:"hidden md:block w-[500px]",children:(0,t.jsx)("img",{alt:"MapleStory Characters",className:"w-full h-auto object-contain drop-shadow-2xl invisible"})})]}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-16 bg-white dark:bg-slate-900",style:{clipPath:"ellipse(60% 100% at 50% 100%)"}})]}),(0,t.jsx)("div",{className:"relative mx-auto w-full max-w-[1440px] flex-1 px-4 -mt-16 z-20",children:(0,t.jsxs)(s.P.main,{className:"space-y-8 pb-20",variants:b,initial:"hidden",animate:"visible",children:[(0,t.jsx)(s.P.section,{variants:m,transition:h,className:"flex justify-center",children:(0,t.jsx)("div",{className:"inline-flex bg-white/10 backdrop-blur-sm p-1 rounded-xl shadow-lg border border-white/20",children:a.map(a=>(0,t.jsx)("button",{className:"px-6 py-3 rounded-lg font-bold text-sm transition-all duration-200 ".concat(e===a.id?"bg-gradient-to-b from-yellow-300 to-yellow-500 text-yellow-900 shadow-md transform scale-105":"bg-[#3b82f6] text-white hover:bg-blue-600 mx-1"),onClick:()=>r(a.id),children:a.label},a.id))})}),(0,t.jsx)(s.P.section,{variants:m,transition:h,children:(0,t.jsxs)("div",{className:"w-full",children:["maxAttack"===e&&(0,t.jsx)(g,{}),"skill"===e&&(0,t.jsx)(n.A,{}),"stat"===e&&(0,t.jsx)(i,{}),"damage"===e&&(0,t.jsx)(d,{})]})})]})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[661,702,2,873,358],()=>r(6078)),_N_E=e.O()}]);