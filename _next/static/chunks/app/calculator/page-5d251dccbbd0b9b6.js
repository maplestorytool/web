(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[307],{1629:(e,r,t)=>{Promise.resolve().then(t.bind(t,5364))},5364:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>I});var a=t(2682),l=t(3986),s=t(6661);let d=()=>{let[e,r]=(0,l.useState)(""),[t,s]=(0,l.useState)(""),[d,n]=(0,l.useState)(""),[i,o]=(0,l.useState)({normalDamage:0,critDamage:0,averageDamage:0});return(0,a.jsxs)("div",{className:"relative rounded-2xl bg-blue-100/40 p-6 ring-1 ring-blue-200/50 ring-inset dark:bg-blue-900/40 dark:ring-blue-800/50",children:[(0,a.jsx)("p",{className:"mb-4 text-base text-blue-600 dark:text-blue-400",children:"计算角色的伤害输出，考虑装备属性、技能效果、Buff效果等因素，帮助玩家优化装备搭配和技能选择。"}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"min-w-[300px] flex-1 rounded-xl bg-white/80 p-4 dark:bg-blue-800/50",children:[(0,a.jsx)("h3",{className:"mb-3 text-lg font-medium text-blue-800 dark:text-blue-200",children:"输入参数"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-sm font-medium text-blue-700 dark:text-blue-300",children:"攻击力/魔力"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-blue-200 bg-white p-2 text-blue-800 dark:border-blue-700 dark:bg-blue-900 dark:text-blue-200",placeholder:"输入攻击力或魔力值",value:e,onChange:e=>r(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-sm font-medium text-blue-700 dark:text-blue-300",children:"暴击率"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-blue-200 bg-white p-2 text-blue-800 dark:border-blue-700 dark:bg-blue-900 dark:text-blue-200",placeholder:"输入暴击率(%)",value:t,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-sm font-medium text-blue-700 dark:text-blue-300",children:"技能倍率"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-blue-200 bg-white p-2 text-blue-800 dark:border-blue-700 dark:bg-blue-900 dark:text-blue-200",placeholder:"输入技能倍率",value:d,onChange:e=>n(e.target.value)})]})]})]}),(0,a.jsxs)("div",{className:"min-w-[300px] flex-1 rounded-xl bg-white/80 p-4 dark:bg-blue-800/50",children:[(0,a.jsx)("h3",{className:"mb-3 text-lg font-medium text-blue-800 dark:text-blue-200",children:"计算结果"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"rounded-lg bg-blue-50 p-3 dark:bg-blue-900",children:[(0,a.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"普通伤害"}),(0,a.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:i.normalDamage})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-blue-50 p-3 dark:bg-blue-900",children:[(0,a.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"暴击伤害"}),(0,a.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:i.critDamage})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-blue-50 p-3 dark:bg-blue-900",children:[(0,a.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"平均伤害"}),(0,a.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:i.averageDamage})]})]}),(0,a.jsx)("button",{className:"mt-4 w-full rounded-lg bg-blue-600 px-4 py-2 font-medium text-white transition-colors duration-200 hover:bg-blue-700",onClick:()=>{let r=parseFloat(e)||0,a=parseFloat(t)||0,l=r*(parseFloat(d)||0),s=1.5*l;o({normalDamage:Math.floor(l),critDamage:Math.floor(s),averageDamage:Math.floor(l*(1-a/100)+a/100*s)})},children:"计算"})]})]})]})};var n=t(6468),i=t.n(n),o=t(8818),c=t(646),x=t(7479);let g=(0,x.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var b=t(7874),m=t(5545),h=t(7705),u=t(3570),p=t(6228),f=t(9935),j=t(5036);function y(e){return(0,a.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("path",{d:"M12 16v-4"}),(0,a.jsx)("path",{d:"M12 8h.01"})]})}let v=()=>{var e;let[r,t]=(0,l.useState)(""),[s,d]=(0,l.useState)({active:0,passive:0,buff:0,h1:1,h2:0,mastery1:0,mastery2:0,mastery3:0,mastery4:0,v1:0,v2:0,v3:0,v4:0}),[n,x]=(0,l.useState)([]),[v,N]=(0,l.useState)([]),[k,w]=(0,l.useState)([]),[C,A]=(0,l.useState)(!0),[M,S]=(0,l.useState)(!0),[E,I]=(0,l.useState)(null),[V,P]=(0,l.useState)(null),[D,_]=(0,l.useState)(1),[L,T]=(0,l.useState)(null),z="/web",B=null!==(e=j.env.NEXT_PUBLIC_PRIVATE_DATA_KEY)&&void 0!==e?e:"";(0,l.useEffect)(()=>{let e=(()=>{let e=B.trim();if(e)return(0,p.Jt)(e);try{var r;let e=null===(r=sessionStorage.getItem("PRIVATE_DATA_KEY"))||void 0===r?void 0:r.trim();if(e)return(0,p.Jt)(e)}catch(e){}return(0,p.Jt)("maplestory")})();if(!e){let e="缺少解密密钥：请设置 NEXT_PUBLIC_PRIVATE_DATA_KEY（或刷新后输入密钥）";I(e),P(e),A(!1),S(!1);return}let r=async()=>{try{S(!0),P(null);let r=await (0,p.ml)("".concat(z,"/private/db_8f3d.csv.zip"),e,/(^|\/)db_8f3d\.csv\.enc$/i);i().parse(r,{header:!0,skipEmptyLines:!0,complete:e=>{if(e.errors.length>0){if(console.warn("Job CSV parsing errors:",e.errors),e.data.length>0){let r=e.data.filter(e=>""!==e.jobName.trim()),a=new Map;r.forEach(e=>{a.set(e.jobID,e)});let l=Array.from(a.values());w(l),l.length>0&&t(l[0].jobID),e.errors.length>0&&P("解析职业CSV文件时出现".concat(e.errors.length,"个错误，但仍加载了").concat(l.length,"个职业"))}else P("解析职业CSV文件时出现错误，无法加载职业数据")}else{let r=e.data.filter(e=>""!==e.jobName.trim()),a=new Map;r.forEach(e=>{a.set(e.jobID,e)});let l=Array.from(a.values());w(l),l.length>0&&t(l[0].jobID)}S(!1)},error:e=>{P("Error parsing job CSV file"),console.error("Papa Parse error for jobs:",e),S(!1)}})}catch(e){P("Error loading jobs data"),console.error("Error loading jobs:",e),S(!1)}};Promise.all([(async()=>{try{A(!0),I(null);let r=await (0,p.ml)("".concat(z,"/private/db_c2a1.csv.zip"),e,/(^|\/)db_c2a1\.csv\.enc$/i);i().parse(r,{header:!0,skipEmptyLines:!0,complete:e=>{e.errors.length>0?(console.warn("CSV parsing errors:",e.errors),e.data.length>0?(x(e.data),I("解析CSV文件时出现".concat(e.errors.length,"个错误，但仍加载了").concat(e.data.length,"条技能数据"))):I("解析CSV文件时出现错误，无法加载技能数据")):x(e.data),A(!1)},error:e=>{I("Error parsing CSV file"),console.error("Papa Parse error:",e),A(!1)}})}catch(e){I("Error loading skills data"),console.error("Error loading skills:",e),A(!1)}})(),r()]).catch(()=>{})},[z,B]),(0,l.useEffect)(()=>{r&&n.length>0?(N(n.filter(e=>e.skillID.startsWith(r.substring(0,3)))),_(1)):r||(N([]),_(1))},[r,n]);let W=20*D,F=W-20,O=v.slice(F,W),U=Math.ceil(v.length/20);return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:(0,a.jsxs)("div",{className:"border-b border-[#f3e8d0] bg-[#fdfbf7] p-6",children:[(0,a.jsxs)("h2",{className:"mb-2 flex items-center gap-2 text-xl font-bold text-[#8b5e34]",children:[(0,a.jsx)(o.A,{className:"h-6 w-6"}),"技能计算器"]}),(0,a.jsx)("p",{className:"text-[#8b5e34]/80",children:"计算技能点分配方案，帮助玩家规划技能升级路径，最大化技能效果。"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[(0,a.jsxs)("div",{className:"space-y-6 lg:col-span-1",children:[(0,a.jsxs)("div",{className:"overflow-hidden rounded-xl border border-gray-100 bg-white shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 border-b border-[#f3e8d0] bg-gradient-to-r from-[#fdfbf7] to-white p-4",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 text-[#d4a017]"}),(0,a.jsx)("h3",{className:"font-bold text-[#8b5e34]",children:"职业选择"})]}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("select",{className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",value:r,onChange:e=>t(e.target.value),disabled:M,children:M?(0,a.jsx)("option",{value:"",children:"加载职业中..."}):k.length>0?k.map(e=>(0,a.jsx)("option",{value:e.jobID,children:e.jobName},e.jobID)):(0,a.jsx)("option",{value:"",children:"无可用职业"})}),V&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2 rounded-lg bg-red-50 p-2 text-xs text-red-600",children:[(0,a.jsx)(g,{className:"h-4 w-4"}),V]})]})]}),(0,a.jsxs)("div",{className:"overflow-hidden rounded-xl border border-gray-100 bg-white shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 border-b border-[#f3e8d0] bg-gradient-to-r from-[#fdfbf7] to-white p-4",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-[#d4a017]"}),(0,a.jsx)("h3",{className:"font-bold text-[#8b5e34]",children:"技能分配"})]}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("div",{className:"mb-6 grid grid-cols-2 gap-3",children:[{label:"H1",key:"h1",min:1},{label:"H2",key:"h2",min:0},{label:"精通1",key:"mastery1",min:0},{label:"精通2",key:"mastery2",min:0},{label:"精通3",key:"mastery3",min:0},{label:"精通4",key:"mastery4",min:0},{label:"V1",key:"v1",min:0},{label:"V2",key:"v2",min:0},{label:"V3",key:"v3",min:0},{label:"V4",key:"v4",min:0}].map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 bg-gray-50 p-2",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.label}),(0,a.jsx)("input",{type:"number",min:e.min,max:"30",className:"w-12 rounded border border-gray-200 bg-white p-1 text-center text-sm outline-none focus:border-blue-400",value:s[e.key]||(1===e.min?1:0),onChange:r=>{let t=parseInt(r.target.value)||(1===e.min?1:0);t=Math.max(e.min,Math.min(30,t)),d({...s,[e.key]:t})}})]},e.key))}),(0,a.jsx)("button",{className:"w-full transform rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2.5 font-bold text-white shadow-md transition-all hover:scale-[1.02] hover:from-blue-700 hover:to-blue-800 active:scale-[0.98]",onClick:()=>{T({totalPoints:Object.values(s).reduce((e,r)=>e+(r||0),0)})},children:"开始计算"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6 lg:col-span-2",children:[L&&(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-xl border border-blue-100 bg-white p-6 shadow-lg",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 -mt-16 -mr-16 h-32 w-32 rounded-full bg-blue-50 blur-3xl"}),(0,a.jsxs)("h3",{className:"relative z-10 mb-4 flex items-center gap-2 text-lg font-bold text-gray-800",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-blue-600"}),"计算结果"]}),(0,a.jsx)("div",{className:"relative z-10 mb-6",children:(0,a.jsxs)("div",{className:"rounded-xl border border-gray-100 bg-gray-50 p-4",children:[(0,a.jsx)("p",{className:"mb-1 text-xs text-gray-500",children:"总技能点数"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:L.totalPoints})]})})]}),(0,a.jsxs)("div",{className:"overflow-hidden rounded-xl border border-gray-100 bg-white shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-[#f3e8d0] bg-gradient-to-r from-[#fdfbf7] to-white p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y,{className:"h-5 w-5 text-[#d4a017]"}),(0,a.jsx)("h3",{className:"font-bold text-[#8b5e34]",children:"技能数据浏览"})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[v.length," 个技能"]})]}),(0,a.jsx)("div",{className:"p-0",children:C?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsx)("div",{className:"mx-auto mb-2 h-6 w-6 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}),"加载技能数据中..."]}):E?(0,a.jsxs)("div",{className:"m-4 rounded-lg border border-red-100 bg-red-50 p-8 text-center text-red-500",children:[(0,a.jsx)(g,{className:"mx-auto mb-2 h-6 w-6"}),E]}):v.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"scroll-thin overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left text-sm text-gray-600",children:[(0,a.jsx)("thead",{className:"border-b border-gray-100 bg-gray-50 text-xs text-gray-500 uppercase",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"w-1/4 px-4 py-3 font-medium",children:"技能名称"}),(0,a.jsx)("th",{className:"w-20 px-4 py-3 text-center font-medium",children:"最高等级"}),(0,a.jsx)("th",{className:"px-4 py-3 font-medium",children:"详细描述"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-50",children:O.map((e,r)=>(0,a.jsxs)("tr",{className:"transition-colors hover:bg-gray-50/50",children:[(0,a.jsx)("td",{className:"px-4 py-3 align-top font-medium text-gray-900",children:e.skillName||"-"}),(0,a.jsx)("td",{className:"px-4 py-3 text-center align-top",children:e.maxLevel||"-"}),(0,a.jsx)("td",{className:"px-4 py-3 align-top text-xs leading-relaxed",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,f.c)(e.skillDesc||"")}})})]},r))})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-100 bg-gray-50/50 p-4",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["第 ",F+1," -"," ",Math.min(W,v.length)," 条"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:()=>_(e=>Math.max(e-1,1)),disabled:1===D,className:"rounded-md p-1.5 text-gray-600 transition-colors hover:bg-gray-200 disabled:opacity-30 disabled:hover:bg-transparent",children:(0,a.jsx)(h.A,{className:"h-4 w-4"})}),(0,a.jsxs)("span",{className:"px-2 text-xs font-medium text-gray-700",children:[D," / ",U]}),(0,a.jsx)("button",{onClick:()=>_(e=>Math.min(e+1,U)),disabled:D===U,className:"rounded-md p-1.5 text-gray-600 transition-colors hover:bg-gray-200 disabled:opacity-30 disabled:hover:bg-transparent",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})})]})]})]}):(0,a.jsxs)("div",{className:"p-12 text-center text-gray-400",children:[(0,a.jsx)(c.A,{className:"mx-auto mb-2 h-8 w-8 opacity-20"}),(0,a.jsx)("p",{children:"没有找到相关技能数据"})]})})]})]})]})]})},N=()=>{let[e,r]=(0,l.useState)("other"),[t,s]=(0,l.useState)("strength"),[d,n]=(0,l.useState)("dexterity"),[i,o]=(0,l.useState)({strength:{base:0,additional:0,percentage:0,final:0},dexterity:{base:0,additional:0,percentage:0,final:0},intelligence:{base:0,additional:0,percentage:0,final:0},luck:{base:0,additional:0,percentage:0,final:0},hp:{base:0,additional:0,percentage:0,final:0}}),[c,x]=(0,l.useState)({attack:0,defense:0,accuracy:0,avoid:0}),[g,b]=(0,l.useState)({strength:0,dexterity:0,intelligence:0,luck:0,hpBare:0,hpTotal:0,statValue:0}),m=(0,l.useMemo)(()=>["strength","dexterity","intelligence","luck"],[]),h=e=>{let r=Number(e);return Number.isFinite(r)?r:0},u=e=>Math.floor(Math.floor(Math.floor(e.base+Math.floor(e.additional))*(1+e.percentage/100))+e.final),p=(0,l.useMemo)(()=>[{key:"strength",label:"力量"},{key:"dexterity",label:"敏捷"},{key:"intelligence",label:"智力"},{key:"luck",label:"运气"}],[]);return(0,a.jsxs)("div",{className:"relative rounded-2xl bg-green-100/40 p-6 ring-1 ring-green-200/50 ring-inset dark:bg-green-900/40 dark:ring-green-800/50",children:[(0,a.jsx)("p",{className:"mb-4 text-base text-green-600 dark:text-green-400",children:"计算角色属性加点方案，帮助玩家根据职业特性和玩法风格，优化属性分配。"}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h3",{className:"mb-3 text-lg font-medium text-green-800 dark:text-green-200",children:"职业主副属性"}),(0,a.jsx)("div",{className:"scroll-thin overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border-collapse text-left text-sm text-green-800 dark:text-green-200",children:[(0,a.jsx)("thead",{className:"bg-green-100 text-xs text-green-700 uppercase dark:bg-green-900/50 dark:text-green-300",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"border border-green-200 px-4 py-3 dark:border-green-800",children:"职业"}),(0,a.jsx)("th",{scope:"col",className:"border border-green-200 px-4 py-3 dark:border-green-800",children:"主属性"}),(0,a.jsx)("th",{scope:"col",className:"border border-green-200 px-4 py-3 dark:border-green-800",children:"副属性"})]})}),(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"战士（恶魔复仇者除外）"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"力量"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"敏捷"})]}),(0,a.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"恶魔复仇者"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"最大血量"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"力量"})]}),(0,a.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"魔法师"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"智力"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"运气"})]}),(0,a.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"弓箭手"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"敏捷"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"力量"})]}),(0,a.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"飞侠（拳套职业、幻影、虎影）"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"运气"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"敏捷"})]}),(0,a.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"飞侠（短刀职业、魔链影士）"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"运气"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"敏捷 + 力量"})]}),(0,a.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"海盗（短枪职业、爆莉萌天使）"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"敏捷"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"力量"})]}),(0,a.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"海盗（指节职业、神炮王）"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"力量"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"敏捷"})]}),(0,a.jsxs)("tr",{className:"bg-white/50 dark:bg-green-900/30",children:[(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"尖兵"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"力量 + 敏捷 + 运气"}),(0,a.jsx)("td",{className:"border border-green-200 px-4 py-2 dark:border-green-800",children:"无"})]})]})]})})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h3",{className:"mb-3 text-lg font-medium text-green-800 dark:text-green-200",children:"属性值计算公式"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-800 dark:bg-green-900/50",children:[(0,a.jsx)("h4",{className:"mb-2 font-medium text-green-700 dark:text-green-300",children:"恶魔复仇者："}),(0,a.jsx)("p",{className:"text-green-600 dark:text-green-400",children:"⌊裸血量 \xf7 3.5⌋ + 0.8 \xd7 ⌊(总血量 - 裸血量) \xf7 3.5⌋ + 总力量"})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-800 dark:bg-green-900/50",children:[(0,a.jsx)("h4",{className:"mb-2 font-medium text-green-700 dark:text-green-300",children:"尖兵："}),(0,a.jsx)("p",{className:"text-green-600 dark:text-green-400",children:"(总力量 + 总敏捷 + 总运气) \xd7 3"})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-800 dark:bg-green-900/50",children:[(0,a.jsx)("h4",{className:"mb-2 font-medium text-green-700 dark:text-green-300",children:"其他各职业："}),(0,a.jsx)("p",{className:"text-green-600 dark:text-green-400",children:"总主属性 \xd7 4 + 总副属性"})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"min-w-[300px] flex-1 rounded-xl bg-white/80 p-4 dark:bg-green-800/50",children:[(0,a.jsx)("h3",{className:"mb-3 text-lg font-medium text-green-800 dark:text-green-200",children:"属性输入"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-sm font-medium text-green-700 dark:text-green-300",children:"职业类型"}),(0,a.jsxs)("select",{className:"w-full rounded-lg border border-green-200 bg-white p-2 text-green-800 dark:border-green-700 dark:bg-green-900 dark:text-green-200",value:e,onChange:e=>r(e.target.value),children:[(0,a.jsx)("option",{value:"other",children:"其他职业"}),(0,a.jsx)("option",{value:"demonAvenger",children:"恶魔复仇者"}),(0,a.jsx)("option",{value:"xenon",children:"尖兵"})]})]}),"other"===e&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-sm font-medium text-green-700 dark:text-green-300",children:"主属性"}),(0,a.jsx)("select",{className:"w-full rounded-lg border border-green-200 bg-white p-2 text-green-800 dark:border-green-700 dark:bg-green-900 dark:text-green-200",value:t,onChange:e=>s(e.target.value),children:p.map(e=>(0,a.jsx)("option",{value:e.key,children:e.label},e.key))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-sm font-medium text-green-700 dark:text-green-300",children:"副属性"}),(0,a.jsxs)("select",{className:"w-full rounded-lg border border-green-200 bg-white p-2 text-green-800 dark:border-green-700 dark:bg-green-900 dark:text-green-200",value:d,onChange:e=>n(e.target.value),children:[p.map(e=>(0,a.jsx)("option",{value:e.key,children:e.label},e.key)),(0,a.jsx)("option",{value:"dexterity+strength",children:"敏捷 + 力量"})]})]})]})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-green-200 bg-green-50 p-3 dark:border-green-800 dark:bg-green-900/50",children:[(0,a.jsx)("p",{className:"mb-2 text-sm font-medium text-green-700 dark:text-green-300",children:"血量"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-green-700/80 dark:text-green-300/80",children:"基础"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-green-200 bg-white p-2 text-green-800 dark:border-green-700 dark:bg-green-900 dark:text-green-200",placeholder:"0",value:i.hp.base,onChange:e=>o({...i,hp:{...i.hp,base:h(e.target.value)}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-green-700/80 dark:text-green-300/80",children:"附加"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-green-200 bg-white p-2 text-green-800 dark:border-green-700 dark:bg-green-900 dark:text-green-200",placeholder:"0",value:i.hp.additional,onChange:e=>o({...i,hp:{...i.hp,additional:h(e.target.value)}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-green-700/80 dark:text-green-300/80",children:"百分比 (%)"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-green-200 bg-white p-2 text-green-800 dark:border-green-700 dark:bg-green-900 dark:text-green-200",placeholder:"0",value:i.hp.percentage,onChange:e=>o({...i,hp:{...i.hp,percentage:h(e.target.value)}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-green-700/80 dark:text-green-300/80",children:"最终"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-green-200 bg-white p-2 text-green-800 dark:border-green-700 dark:bg-green-900 dark:text-green-200",placeholder:"0",value:i.hp.final,onChange:e=>o({...i,hp:{...i.hp,final:h(e.target.value)}})})]})]})]}),m.map(e=>{var r,t;let l=null!==(t=null===(r=p.find(r=>r.key===e))||void 0===r?void 0:r.label)&&void 0!==t?t:e,s=i[e];return(0,a.jsxs)("div",{className:"rounded-lg border border-green-200 bg-green-50 p-3 dark:border-green-800 dark:bg-green-900/50",children:[(0,a.jsx)("p",{className:"mb-2 text-sm font-medium text-green-700 dark:text-green-300",children:l}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-green-700/80 dark:text-green-300/80",children:"基础"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-green-200 bg-white p-2 text-green-800 dark:border-green-700 dark:bg-green-900 dark:text-green-200",placeholder:"0",value:s.base,onChange:r=>o({...i,[e]:{...s,base:h(r.target.value)}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-green-700/80 dark:text-green-300/80",children:"附加"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-green-200 bg-white p-2 text-green-800 dark:border-green-700 dark:bg-green-900 dark:text-green-200",placeholder:"0",value:s.additional,onChange:r=>o({...i,[e]:{...s,additional:h(r.target.value)}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-green-700/80 dark:text-green-300/80",children:"百分比 (%)"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-green-200 bg-white p-2 text-green-800 dark:border-green-700 dark:bg-green-900 dark:text-green-200",placeholder:"0",value:s.percentage,onChange:r=>o({...i,[e]:{...s,percentage:h(r.target.value)}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-green-700/80 dark:text-green-300/80",children:"最终"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-green-200 bg-white p-2 text-green-800 dark:border-green-700 dark:bg-green-900 dark:text-green-200",placeholder:"0",value:s.final,onChange:r=>o({...i,[e]:{...s,final:h(r.target.value)}})})]})]})]},e)})]})]}),(0,a.jsxs)("div",{className:"min-w-[300px] flex-1 rounded-xl bg-white/80 p-4 dark:bg-green-800/50",children:[(0,a.jsx)("h3",{className:"mb-3 text-lg font-medium text-green-800 dark:text-green-200",children:"属性效果"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"rounded-lg bg-green-50 p-3 dark:bg-green-900",children:[(0,a.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"属性值"}),(0,a.jsx)("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:g.statValue}),(0,a.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-green-700/80 dark:text-green-300/80",children:[(0,a.jsxs)("div",{children:["力量：",g.strength]}),(0,a.jsxs)("div",{children:["敏捷：",g.dexterity]}),(0,a.jsxs)("div",{children:["智力：",g.intelligence]}),(0,a.jsxs)("div",{children:["运气：",g.luck]}),(0,a.jsxs)("div",{children:["裸血量：",g.hpBare]}),(0,a.jsxs)("div",{children:["总血量：",g.hpTotal]})]})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-green-50 p-3 dark:bg-green-900",children:[(0,a.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"攻击力"}),(0,a.jsx)("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:c.attack})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-green-50 p-3 dark:bg-green-900",children:[(0,a.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"防御力"}),(0,a.jsx)("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:c.defense})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-green-50 p-3 dark:bg-green-900",children:[(0,a.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"命中"}),(0,a.jsx)("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:c.accuracy})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-green-50 p-3 dark:bg-green-900",children:[(0,a.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"回避"}),(0,a.jsx)("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:c.avoid})]})]}),(0,a.jsx)("button",{className:"mt-4 w-full rounded-lg bg-green-600 px-4 py-2 font-medium text-white transition-colors duration-200 hover:bg-green-700",onClick:()=>{let r={strength:u(i.strength),dexterity:u(i.dexterity),intelligence:u(i.intelligence),luck:u(i.luck)},a=Math.floor(i.hp.base+Math.floor(i.hp.additional)+i.hp.final),l=u(i.hp),s=0;s="demonAvenger"===e?Math.floor(Math.floor(a/3.5)+.8*Math.floor((l-a)/3.5)+r.strength):"xenon"===e?Math.floor((r.strength+r.dexterity+r.luck)*3):Math.floor(4*r[t]+("dexterity+strength"===d?r.dexterity+r.strength:r[d]));let n=Math.floor(.5*r.strength+.3*r.dexterity);x({attack:n,defense:Math.floor(.3*r.strength+.4*r.dexterity),accuracy:Math.floor(.6*r.dexterity+.3*r.luck),avoid:Math.floor(.4*r.dexterity+.5*r.luck)}),b({...r,hpBare:a,hpTotal:l,statValue:s})},children:"计算"})]})]})]})},k=(0,x.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),w=(0,x.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var C=t(8111);let A=()=>{let[e,r]=(0,l.useState)({base:0,additional:0,percentage:0,final:0}),[t,s]=(0,l.useState)({base:0,additional:0,percentage:0,final:0}),[d,n]=(0,l.useState)({weaponCoeff:0,additional:0,percentage:0,final:0}),[i,o]=(0,l.useState)({primaryStatValue:0,secondaryStatValue:0,attackValue:0,maxAttack:0});return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[(0,a.jsx)("div",{className:"border-b border-[#f3e8d0] bg-[#fdfbf7] p-6",children:(0,a.jsx)("h2",{className:"mb-2 text-xl font-bold text-[#8b5e34]",children:"计算角色的最终实际单技能攻击力（实验型计算器），将能进行各角色的详细参数设置。"})}),(0,a.jsx)("div",{className:"space-y-8 p-8",children:(0,a.jsxs)("div",{className:"rounded-xl border border-gray-200 bg-[#f8f9fa] p-6",children:[(0,a.jsxs)("h3",{className:"mb-4 flex items-center gap-2 font-bold text-gray-800",children:[(0,a.jsx)("span",{className:"h-6 w-1 rounded-full bg-blue-600"}),"实际最大单技能攻击力计算公式"]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"mb-2 text-sm font-bold text-gray-700",children:"一般公式："}),(0,a.jsx)("p",{className:"rounded-lg border border-gray-200 bg-white p-4 font-mono text-sm leading-relaxed break-all text-gray-600",children:"((增幅上限 +（自身上限伤害）\xd7（1 + 百分比伤害/100） + 额外增幅 ... + 4 \xd7（固定增幅） +（目标防御率）\xd7（1 + 百分比忽视/100） + 目标属性防御）\xd7（1 + ... （自标防御值/1\xd7（1 + 自身伤害/100） + 终伤/最终伤害）/100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"mb-3 text-sm font-bold text-gray-700",children:"参数说明："}),(0,a.jsxs)("ul",{className:"grid grid-cols-1 gap-3 text-sm text-gray-600 md:grid-cols-2",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"mt-1 text-blue-500",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"攻击力："}),"角色的基础与加成总和，武器与装备、增益效果、冒险副职等综合。"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"mt-1 text-blue-500",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"最终伤害："}),"包括技能描述中的最终伤害、怪物防御修正、BOSS承伤修正。"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"mt-1 text-blue-500",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"伤害增加："}),"包含普通伤害、BOSS伤害、技能伤害增加等，PVP参数暂不考虑。"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"mt-1 text-blue-500",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"忽视防御："}),"角色面板与技能的忽视防御合计，包含链接技能、被动技能、潜能、装备、符文等。"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"mt-1 text-blue-500",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"暴击率、暴击伤害："}),"角色的面板暴击相关参数。"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"mt-1 text-blue-500",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"攻速、触发："}),"不同职业技能的攻速与触发频率。"]})]})]})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[(0,a.jsxs)("div",{className:"overflow-hidden rounded-xl border border-gray-100 bg-white shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 border-b border-[#f3e8d0] bg-gradient-to-r from-[#fdfbf7] to-white p-4",children:[(0,a.jsx)(k,{className:"h-5 w-5 text-[#d4a017]"}),(0,a.jsx)("h3",{className:"font-bold text-[#8b5e34]",children:"主属性参数"})]}),(0,a.jsxs)("div",{className:"space-y-4 p-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"裸主属性"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:e.base,onChange:t=>r({...e,base:parseInt(t.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"附加主属性"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:e.additional,onChange:t=>r({...e,additional:parseInt(t.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"百分比主属性 (%)"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:e.percentage,onChange:t=>r({...e,percentage:parseFloat(t.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"最终主属性"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:e.final,onChange:t=>r({...e,final:parseInt(t.target.value)||0})})]})]})]}),(0,a.jsxs)("div",{className:"overflow-hidden rounded-xl border border-gray-100 bg-white shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 border-b border-[#f3e8d0] bg-gradient-to-r from-[#fdfbf7] to-white p-4",children:[(0,a.jsx)(w,{className:"h-5 w-5 text-[#d4a017]"}),(0,a.jsx)("h3",{className:"font-bold text-[#8b5e34]",children:"副属性参数"})]}),(0,a.jsxs)("div",{className:"space-y-4 p-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"裸副属性"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:t.base,onChange:e=>s({...t,base:parseInt(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"附加副属性"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:t.additional,onChange:e=>s({...t,additional:parseInt(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"百分比副属性 (%)"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:t.percentage,onChange:e=>s({...t,percentage:parseFloat(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"最终副属性"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:t.final,onChange:e=>s({...t,final:parseInt(e.target.value)||0})})]})]})]}),(0,a.jsxs)("div",{className:"overflow-hidden rounded-xl border border-gray-100 bg-white shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 border-b border-[#f3e8d0] bg-gradient-to-r from-[#fdfbf7] to-white p-4",children:[(0,a.jsx)(C.A,{className:"h-5 w-5 text-[#d4a017]"}),(0,a.jsx)("h3",{className:"font-bold text-[#8b5e34]",children:"攻击力参数"})]}),(0,a.jsxs)("div",{className:"space-y-4 p-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"武器系数"}),(0,a.jsx)("input",{type:"number",step:"0.01",className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:d.weaponCoeff,onChange:e=>n({...d,weaponCoeff:parseFloat(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"附加攻击"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:d.additional,onChange:e=>n({...d,additional:parseInt(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"百分比攻击 (%)"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:d.percentage,onChange:e=>n({...d,percentage:parseFloat(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-xs font-medium text-gray-500",children:"最终攻击"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-gray-200 bg-gray-50 p-2.5 text-sm text-gray-800 transition-all outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:d.final,onChange:e=>n({...d,final:parseInt(e.target.value)||0})})]})]})]})]}),(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-xl border border-blue-100 bg-white p-6 shadow-lg",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 -mt-16 -mr-16 h-32 w-32 rounded-full bg-blue-50 blur-3xl"}),(0,a.jsx)("h3",{className:"relative z-10 mb-6 text-lg font-bold text-gray-800",children:"计算结果"}),(0,a.jsxs)("div",{className:"relative z-10 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-gray-100 bg-gray-50 p-4 transition-colors hover:border-blue-200",children:[(0,a.jsx)("p",{className:"mb-1 text-xs text-gray-500",children:"主属性计算值"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:i.primaryStatValue.toLocaleString()})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-gray-100 bg-gray-50 p-4 transition-colors hover:border-blue-200",children:[(0,a.jsx)("p",{className:"mb-1 text-xs text-gray-500",children:"副属性计算值"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:i.secondaryStatValue.toLocaleString()})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-gray-100 bg-gray-50 p-4 transition-colors hover:border-blue-200",children:[(0,a.jsx)("p",{className:"mb-1 text-xs text-gray-500",children:"攻击力计算值"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:i.attackValue.toLocaleString()})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:[(0,a.jsx)("p",{className:"mb-1 text-xs font-semibold text-blue-600",children:"实际最大属性攻击力"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:i.maxAttack.toLocaleString()})]})]}),(0,a.jsx)("div",{className:"mt-8 flex justify-end",children:(0,a.jsx)("button",{className:"transform rounded-xl bg-gradient-to-r from-blue-600 to-blue-700 px-8 py-3 font-bold text-white shadow-lg shadow-blue-500/30 transition-all hover:scale-105 hover:from-blue-700 hover:to-blue-800 active:scale-95",onClick:()=>{let r=Math.floor(Math.floor((e.base+Math.floor(e.additional))*(1+e.percentage/100))+e.final),a=Math.floor(Math.floor((t.base+Math.floor(t.additional))*(1+t.percentage/100))+t.final),l=Math.floor(Math.floor(Math.floor(d.additional)*(1+d.percentage/100))+d.final),s=Math.floor((4*r+1*a)*d.weaponCoeff*l/100);o({primaryStatValue:r,secondaryStatValue:a,attackValue:l,maxAttack:s})},children:"开始计算"})})]})]})},M={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},S={hidden:{opacity:0,y:20,filter:"blur(8px)"},visible:{opacity:1,y:0,filter:"blur(0px)"}},E={duration:.3};function I(){let[e,r]=(0,l.useState)("maxAttack");return(0,a.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-white font-[family-name:var(--font-inter-tight)] dark:bg-slate-900",children:[(0,a.jsxs)("div",{className:"relative w-full overflow-hidden bg-gradient-to-b from-[#1a2e5a] to-[#2d4a8a] pt-12 pb-24 text-white",children:[(0,a.jsxs)("div",{className:"relative z-10 mx-auto flex w-full max-w-[1440px] flex-col items-center justify-between px-4 md:flex-row",children:[(0,a.jsxs)("div",{className:"max-w-2xl",children:[(0,a.jsxs)("h1",{className:"mb-4 text-4xl font-bold tracking-tight",children:["冒险岛计算器工具集合、冒险玩家计算方案、",(0,a.jsx)("br",{}),"伤害计算、性能综合评估、优化增益等。"]}),(0,a.jsx)("p",{className:"text-lg text-blue-200 opacity-80",children:"专业的冒险岛数据分析工具，助你打造最强角色。"})]}),(0,a.jsx)("div",{className:"hidden w-[500px] md:block"})]}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 h-16 w-full bg-white dark:bg-slate-900",style:{clipPath:"ellipse(60% 100% at 50% 100%)"}})]}),(0,a.jsx)("div",{className:"relative z-20 mx-auto -mt-16 w-full max-w-[1440px] flex-1 px-4",children:(0,a.jsxs)(s.P.main,{className:"space-y-8 pb-20",variants:M,initial:"hidden",animate:"visible",children:[(0,a.jsx)(s.P.section,{variants:S,transition:E,className:"flex justify-center",children:(0,a.jsx)("div",{className:"inline-flex rounded-xl border border-white/20 bg-white/10 p-1 shadow-lg backdrop-blur-sm",children:[{id:"maxAttack",label:"实际最大单技能攻击力计算器"},{id:"stat",label:"属性计算器"},{id:"damage",label:"伤害计算器"},{id:"skill",label:"技能计算器"}].map(t=>(0,a.jsx)("button",{className:"rounded-lg px-6 py-3 text-sm font-bold transition-all duration-200 ".concat(e===t.id?"scale-105 transform bg-gradient-to-b from-yellow-300 to-yellow-500 text-yellow-900 shadow-md":"mx-1 bg-[#3b82f6] text-white hover:bg-blue-600"),onClick:()=>r(t.id),children:t.label},t.id))})}),(0,a.jsx)(s.P.section,{variants:S,transition:E,children:(0,a.jsxs)("div",{className:"w-full",children:["maxAttack"===e&&(0,a.jsx)(A,{}),"skill"===e&&(0,a.jsx)(v,{}),"stat"===e&&(0,a.jsx)(N,{}),"damage"===e&&(0,a.jsx)(d,{})]})})]})})]})}},6228:(e,r,t)=>{"use strict";t.d(r,{Jt:()=>d,ml:()=>c});var a=t(4094),l=t(827);let s=new TextEncoder().encode("MPD1"),d=e=>{let r=e.trim();return"mapletool"===r||"maplestory"===r?"mapletool-maplestory":r},n=async(e,r)=>{var t,l,s;let d=await fetch(e);if(!d.ok)throw Error("Failed to load ZIP file");let n=new Uint8Array(await d.arrayBuffer()),i=Object.entries((0,a.AO)(n)).filter(e=>{let[r,t]=e;return!r.endsWith("/")&&t&&t.length>0}),o=null!==(s=null!==(l=null!==(t=r?i.find(e=>{let[t]=e;return r.test(t)}):void 0)&&void 0!==t?t:i.find(e=>{let[r]=e;return r.toLowerCase().endsWith(".enc")}))&&void 0!==l?l:i.find(e=>{let[r]=e;return r.toLowerCase().endsWith(".csv")}))&&void 0!==s?s:i[0];if(!o)throw Error("ZIP file contains no readable entries");return o[1]},i=async(e,r)=>{let t=new TextEncoder().encode(e),a=new Uint8Array(await (0,l.scrypt)(t,r,16384,8,1,32)).buffer;return crypto.subtle.importKey("raw",a,"AES-GCM",!1,["decrypt"])},o=async(e,r)=>{if(e.length<49)throw Error("Encrypted file is too small");if(!e.slice(0,4).every((e,r)=>e===s[r]))throw Error("Invalid encrypted file header");let t=e[4];if(1!==t)throw Error("Unsupported encrypted version: ".concat(t));let a=e.slice(5,21),l=e.slice(21,33),d=e.slice(33,49),n=e.slice(49),o=await i(r,a),c=new Uint8Array(n.length+d.length);return c.set(n),c.set(d,n.length),new Uint8Array(await crypto.subtle.decrypt({name:"AES-GCM",iv:l,additionalData:s,tagLength:128},o,c))},c=async(e,r,t)=>{let l=await n(e,t),s=await o(l,r);return(0,a.he)(s)}},9935:(e,r,t)=>{"use strict";t.d(r,{O:()=>d,c:()=>n,cn:()=>s});var a=t(2890),l=t(5902);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,l.QP)((0,a.$)(r))}function d(e){if(!e||e.startsWith("http")||e.startsWith("//")||e.startsWith("data:"))return e;let r=e.startsWith("/")?e:"/".concat(e);return"".concat("/web").concat(r)}function n(e){return e?e.replace(/\\n/g,"<br/>").replace(/\#c([^#]+)\#/g,'<span class="inline-block px-1.5 py-0.5 bg-blue-50 text-blue-700 rounded text-[10px] font-bold mx-1 dark:bg-blue-900/30 dark:text-blue-300">$1</span>'):""}},7479:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var a=t(3986);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:x,...g}=e;return(0,a.createElement)("svg",{ref:r,...d,width:l,height:l,stroke:t,strokeWidth:i?24*Number(n)/Number(l):n,className:s("lucide",o),...g},[...x.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(c)?c:[c]])}),i=(e,r)=>{let t=(0,a.forwardRef)((t,d)=>{let{className:i,...o}=t;return(0,a.createElement)(n,{ref:d,iconNode:r,className:s("lucide-".concat(l(e)),i),...o})});return t.displayName="".concat(e),t}},8818:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(7479).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},7874:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(7479).A)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},7705:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(7479).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},3570:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(7479).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},646:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(7479).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8111:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(7479).A)("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]])},5545:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(7479).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[661,141,285,2,873,358],()=>r(1629)),_N_E=e.O()}]);